{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { HttpClient } from '@angular/common/http';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction LoginComponent_p_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 6);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r0.error);\n  }\n}\nexport class LoginComponent {\n  constructor(http, router) {\n    this.http = http;\n    this.router = router;\n    this.email = 'owner@demo.com';\n    this.password = 'Owner123!';\n    this.error = '';\n    this.API = 'http://localhost:3000/api';\n  }\n  submit() {\n    this.error = '';\n    this.http.post(`${this.API}/auth/login`, {\n      email: this.email,\n      password: this.password\n    }).subscribe({\n      next: res => {\n        localStorage.setItem('accessToken', res.accessToken);\n        this.router.navigateByUrl('/tasks');\n      },\n      error: () => {\n        this.error = 'Login failed';\n      }\n    });\n  }\n  static {\n    this.ɵfac = function LoginComponent_Factory(t) {\n      return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: LoginComponent,\n      selectors: [[\"stm-login\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 22,\n      vars: 3,\n      consts: [[3, \"ngSubmit\"], [\"name\", \"email\", 3, \"ngModel\", \"ngModelChange\"], [2, \"margin-left\", \"12px\"], [\"name\", \"password\", \"type\", \"password\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 2, \"margin-left\", \"12px\"], [\"style\", \"color: #b00020;\", 4, \"ngIf\"], [2, \"color\", \"#b00020\"]],\n      template: function LoginComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"h1\");\n          i0.ɵɵtext(1, \"Secure Task Manager\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(2, \"h2\");\n          i0.ɵɵtext(3, \"Sign in\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"form\", 0);\n          i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_4_listener() {\n            return ctx.submit();\n          });\n          i0.ɵɵelementStart(5, \"label\");\n          i0.ɵɵtext(6, \" Email \");\n          i0.ɵɵelementStart(7, \"input\", 1);\n          i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_7_listener($event) {\n            return ctx.email = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(8, \"label\", 2);\n          i0.ɵɵtext(9, \" Password \");\n          i0.ɵɵelementStart(10, \"input\", 3);\n          i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_10_listener($event) {\n            return ctx.password = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(11, \"button\", 4);\n          i0.ɵɵtext(12, \"Sign in\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(13, LoginComponent_p_13_Template, 2, 1, \"p\", 5);\n          i0.ɵɵelementStart(14, \"h3\");\n          i0.ɵɵtext(15, \"Demo accounts:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(16, \"p\");\n          i0.ɵɵtext(17, \"owner@demo.com / Owner123!\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"p\");\n          i0.ɵɵtext(19, \"admin@demo.com / Admin123!\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(20, \"p\");\n          i0.ɵɵtext(21, \"viewer@demo.com / Viewer123!\");\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"ngModel\", ctx.email);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngModel\", ctx.password);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.error);\n        }\n      },\n      dependencies: [CommonModule, i3.NgIf, FormsModule, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.NgModel, i4.NgForm],\n      encapsulation: 2\n    });\n  }\n}","map":{"version":3,"names":["CommonModule","FormsModule","Router","HttpClient","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r0","error","LoginComponent","constructor","http","router","email","password","API","submit","post","subscribe","next","res","localStorage","setItem","accessToken","navigateByUrl","ɵɵdirectiveInject","i1","i2","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","LoginComponent_Template","rf","ctx","ɵɵlistener","LoginComponent_Template_form_ngSubmit_4_listener","LoginComponent_Template_input_ngModelChange_7_listener","$event","LoginComponent_Template_input_ngModelChange_10_listener","ɵɵtemplate","LoginComponent_p_13_Template","ɵɵproperty","i3","NgIf","i4","ɵNgNoValidate","DefaultValueAccessor","NgControlStatus","NgControlStatusGroup","NgModel","NgForm","encapsulation"],"sources":["E:\\Practice\\secure-task-manager\\apps\\dashboard\\src\\app\\auth\\login.component.ts","E:\\Practice\\secure-task-manager\\apps\\dashboard\\src\\app\\auth\\login.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\ntype LoginResponse = { accessToken: string };\r\n\r\n@Component({\r\n  selector: 'stm-login',\r\n  standalone: true,\r\n  imports: [CommonModule, FormsModule],\r\n  templateUrl: './login.component.html',\r\n})\r\nexport class LoginComponent {\r\n  email = 'owner@demo.com';\r\n  password = 'Owner123!';\r\n  error = '';\r\n\r\n  private readonly API = 'http://localhost:3000/api';\r\n\r\n  constructor(private readonly http: HttpClient, private readonly router: Router) {}\r\n\r\n  submit() {\r\n    this.error = '';\r\n\r\n    this.http\r\n      .post<LoginResponse>(`${this.API}/auth/login`, {\r\n        email: this.email,\r\n        password: this.password,\r\n      })\r\n      .subscribe({\r\n        next: (res) => {\r\n          localStorage.setItem('accessToken', res.accessToken);\r\n          this.router.navigateByUrl('/tasks');\r\n        },\r\n        error: () => {\r\n          this.error = 'Login failed';\r\n        },\r\n      });\r\n  }\r\n}\r\n","<h1>Secure Task Manager</h1>\r\n\r\n<h2>Sign in</h2>\r\n\r\n<form (ngSubmit)=\"submit()\">\r\n  <label>\r\n    Email\r\n    <input name=\"email\" [(ngModel)]=\"email\" />\r\n  </label>\r\n\r\n  <label style=\"margin-left: 12px;\">\r\n    Password\r\n    <input name=\"password\" type=\"password\" [(ngModel)]=\"password\" />\r\n  </label>\r\n\r\n  <button style=\"margin-left: 12px;\" type=\"submit\">Sign in</button>\r\n</form>\r\n\r\n<p *ngIf=\"error\" style=\"color: #b00020;\">{{ error }}</p>\r\n\r\n<h3>Demo accounts:</h3>\r\n<p>owner&#64;demo.com / Owner123!</p>\r\n<p>admin&#64;demo.com / Admin123!</p>\r\n<p>viewer&#64;demo.com / Viewer123!</p>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}