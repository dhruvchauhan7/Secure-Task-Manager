{"ast":null,"code":"import { inject } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { HttpClient } from '@angular/common/http';\nimport { AuthService } from './auth.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/forms\";\nfunction LoginComponent_div_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r1.error);\n  }\n}\nexport class LoginComponent {\n  constructor() {\n    this.http = inject(HttpClient);\n    this.router = inject(Router);\n    this.auth = inject(AuthService);\n    this.email = 'owner@demo.com';\n    this.password = 'Owner123!';\n    this.error = '';\n    this.API = 'http://localhost:3000/api';\n  }\n  submit() {\n    this.error = '';\n    this.http.post(`${this.API}/auth/login`, {\n      email: this.email,\n      password: this.password\n    }).subscribe({\n      next: res => {\n        this.auth.setToken(res.accessToken);\n        this.router.navigateByUrl('/tasks');\n      },\n      error: () => {\n        this.error = 'Login failed';\n      }\n    });\n  }\n  static {\n    this.ɵfac = function LoginComponent_Factory(t) {\n      return new (t || LoginComponent)();\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: LoginComponent,\n      selectors: [[\"stm-login\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 47,\n      vars: 4,\n      consts: [[1, \"auth\"], [1, \"auth__grid\"], [1, \"auth__left\"], [1, \"h1\"], [1, \"muted\", 2, \"margin-top\", \"8px\"], [1, \"demo\", \"card\"], [1, \"h2\", 2, \"margin-bottom\", \"10px\"], [1, \"demo__row\"], [1, \"badge\"], [1, \"muted\"], [1, \"auth__right\", \"card\"], [1, \"form\", 3, \"ngSubmit\"], [\"f\", \"ngForm\"], [1, \"h2\"], [1, \"muted\", 2, \"margin\", \"6px 0 14px\"], [\"class\", \"error\", 4, \"ngIf\"], [1, \"label\"], [\"name\", \"email\", \"required\", \"\", 1, \"input\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"password\", \"type\", \"password\", \"required\", \"\", 1, \"input\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", 3, \"disabled\"], [1, \"error\"]],\n      template: function LoginComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h1\", 3);\n          i0.ɵɵtext(4, \"Sign in\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"p\", 4);\n          i0.ɵɵtext(6, \" Use a demo account to access tasks. Tokens are stored in localStorage for this demo. \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"div\", 5)(8, \"div\", 6);\n          i0.ɵɵtext(9, \"Demo accounts\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"div\", 7)(11, \"span\", 8);\n          i0.ɵɵtext(12, \"OWNER\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"span\");\n          i0.ɵɵtext(14, \"owner@demo.com\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"span\", 9);\n          i0.ɵɵtext(16, \"Owner123!\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(17, \"div\", 7)(18, \"span\", 8);\n          i0.ɵɵtext(19, \"ADMIN\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(20, \"span\");\n          i0.ɵɵtext(21, \"admin@demo.com\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(22, \"span\", 9);\n          i0.ɵɵtext(23, \"Admin123!\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(24, \"div\", 7)(25, \"span\", 8);\n          i0.ɵɵtext(26, \"VIEWER\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(27, \"span\");\n          i0.ɵɵtext(28, \"viewer@demo.com\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(29, \"span\", 9);\n          i0.ɵɵtext(30, \"Viewer123!\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(31, \"div\", 10)(32, \"form\", 11, 12);\n          i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_32_listener() {\n            return ctx.submit();\n          });\n          i0.ɵɵelementStart(34, \"div\", 13);\n          i0.ɵɵtext(35, \"Welcome back\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(36, \"p\", 14);\n          i0.ɵɵtext(37, \"Enter your credentials to continue.\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(38, LoginComponent_div_38_Template, 2, 1, \"div\", 15);\n          i0.ɵɵelementStart(39, \"label\", 16);\n          i0.ɵɵtext(40, \" Email \");\n          i0.ɵɵelementStart(41, \"input\", 17);\n          i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_41_listener($event) {\n            return ctx.email = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(42, \"label\", 16);\n          i0.ɵɵtext(43, \" Password \");\n          i0.ɵɵelementStart(44, \"input\", 18);\n          i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_44_listener($event) {\n            return ctx.password = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(45, \"button\", 19);\n          i0.ɵɵtext(46, \"Sign in\");\n          i0.ɵɵelementEnd()()()()();\n        }\n        if (rf & 2) {\n          const _r0 = i0.ɵɵreference(33);\n          i0.ɵɵadvance(38);\n          i0.ɵɵproperty(\"ngIf\", ctx.error);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngModel\", ctx.email);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngModel\", ctx.password);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"disabled\", _r0.invalid);\n        }\n      },\n      dependencies: [CommonModule, i1.NgIf, FormsModule, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.RequiredValidator, i2.NgModel, i2.NgForm],\n      encapsulation: 2\n    });\n  }\n}","map":{"version":3,"names":["inject","CommonModule","FormsModule","Router","HttpClient","AuthService","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r1","error","LoginComponent","constructor","http","router","auth","email","password","API","submit","post","subscribe","next","res","setToken","accessToken","navigateByUrl","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","LoginComponent_Template","rf","ctx","ɵɵlistener","LoginComponent_Template_form_ngSubmit_32_listener","ɵɵtemplate","LoginComponent_div_38_Template","LoginComponent_Template_input_ngModelChange_41_listener","$event","LoginComponent_Template_input_ngModelChange_44_listener","ɵɵproperty","_r0","invalid","i1","NgIf","i2","ɵNgNoValidate","DefaultValueAccessor","NgControlStatus","NgControlStatusGroup","RequiredValidator","NgModel","NgForm","encapsulation"],"sources":["E:\\Practice\\secure-task-manager\\apps\\dashboard\\src\\app\\auth\\login.component.ts","E:\\Practice\\secure-task-manager\\apps\\dashboard\\src\\app\\auth\\login.component.html"],"sourcesContent":["import { Component, inject } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { AuthService } from './auth.service';\r\n\r\ntype LoginResponse = { accessToken: string };\r\n\r\n@Component({\r\n  selector: 'stm-login',\r\n  standalone: true,\r\n  imports: [CommonModule, FormsModule],\r\n  templateUrl: './login.component.html',\r\n})\r\nexport class LoginComponent {\r\n  private readonly http = inject(HttpClient);\r\n  private readonly router = inject(Router);\r\n  private readonly auth = inject(AuthService);\r\n\r\n  email = 'owner@demo.com';\r\n  password = 'Owner123!';\r\n  error = '';\r\n\r\n  private readonly API = 'http://localhost:3000/api';\r\n\r\n  submit() {\r\n    this.error = '';\r\n\r\n    this.http\r\n      .post<LoginResponse>(`${this.API}/auth/login`, {\r\n        email: this.email,\r\n        password: this.password,\r\n      })\r\n      .subscribe({\r\n        next: (res) => {\r\n          this.auth.setToken(res.accessToken);\r\n          this.router.navigateByUrl('/tasks');\r\n        },\r\n        error: () => {\r\n          this.error = 'Login failed';\r\n        },\r\n      });\r\n  }\r\n}\r\n","<div class=\"auth\">\r\n    <div class=\"auth__grid\">\r\n      <div class=\"auth__left\">\r\n        <h1 class=\"h1\">Sign in</h1>\r\n        <p class=\"muted\" style=\"margin-top: 8px\">\r\n          Use a demo account to access tasks. Tokens are stored in localStorage for this demo.\r\n        </p>\r\n  \r\n        <div class=\"demo card\">\r\n          <div class=\"h2\" style=\"margin-bottom: 10px\">Demo accounts</div>\r\n          <div class=\"demo__row\"><span class=\"badge\">OWNER</span><span>owner&#64;demo.com</span><span class=\"muted\">Owner123!</span></div>\r\n          <div class=\"demo__row\"><span class=\"badge\">ADMIN</span><span>admin&#64;demo.com</span><span class=\"muted\">Admin123!</span></div>\r\n          <div class=\"demo__row\"><span class=\"badge\">VIEWER</span><span>viewer&#64;demo.com</span><span class=\"muted\">Viewer123!</span></div>\r\n        </div>\r\n      </div>\r\n  \r\n      <div class=\"auth__right card\">\r\n        <form (ngSubmit)=\"submit()\" #f=\"ngForm\" class=\"form\">\r\n          <div class=\"h2\">Welcome back</div>\r\n          <p class=\"muted\" style=\"margin: 6px 0 14px\">Enter your credentials to continue.</p>\r\n  \r\n          <div *ngIf=\"error\" class=\"error\">{{ error }}</div>\r\n  \r\n          <label class=\"label\">\r\n            Email\r\n            <input class=\"input\" name=\"email\" [(ngModel)]=\"email\" required />\r\n          </label>\r\n  \r\n          <label class=\"label\">\r\n            Password\r\n            <input class=\"input\" name=\"password\" type=\"password\" [(ngModel)]=\"password\" required />\r\n          </label>\r\n  \r\n          <button class=\"btn\" type=\"submit\" [disabled]=\"f.invalid\">Sign in</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}