{"ast":null,"code":"import { computed, inject } from '@angular/core';\nimport { Router, RouterOutlet } from '@angular/router';\nimport { NgIf } from '@angular/common';\nimport { AuthService } from './auth/auth.service';\nimport * as i0 from \"@angular/core\";\nfunction AppComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"div\", 11)(2, \"div\", 12)(3, \"div\", 13);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 14)(6, \"span\", 15);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"span\");\n    i0.ɵɵtext(9, \"\\u2022\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"span\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(12, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function AppComponent_div_10_Template_button_click_12_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.logout());\n    });\n    i0.ɵɵtext(13, \"Logout\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.user().email);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.user().role);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.user().orgId);\n  }\n}\nfunction AppComponent_ng_template_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 17);\n    i0.ɵɵtext(1, \"Login\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class AppComponent {\n  constructor() {\n    this.auth = inject(AuthService);\n    this.router = inject(Router);\n    this.user = computed(() => this.auth.getUser());\n    this.loggedIn = computed(() => this.auth.isLoggedIn());\n  }\n  logout() {\n    this.auth.logout();\n    this.router.navigateByUrl('/login');\n  }\n  static {\n    this.ɵfac = function AppComponent_Factory(t) {\n      return new (t || AppComponent)();\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AppComponent,\n      selectors: [[\"stm-root\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 15,\n      vars: 2,\n      consts: [[1, \"topbar\"], [1, \"container\", \"topbar__inner\"], [1, \"brand\"], [1, \"brand__logo\"], [1, \"brand__text\"], [1, \"brand__title\"], [1, \"brand__subtitle\", \"muted\"], [\"class\", \"topbar__right\", 4, \"ngIf\", \"ngIfElse\"], [\"loggedOut\", \"\"], [1, \"container\", \"main\"], [1, \"topbar__right\"], [1, \"userpill\"], [1, \"userpill__main\"], [1, \"userpill__email\"], [1, \"userpill__meta\", \"muted\"], [1, \"badge\"], [1, \"btn\", \"btn-secondary\", 3, \"click\"], [\"routerLink\", \"/login\", 1, \"btn\", \"btn-secondary\"]],\n      template: function AppComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"header\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3);\n          i0.ɵɵtext(4, \"STM\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"div\", 4)(6, \"div\", 5);\n          i0.ɵɵtext(7, \"Secure Task Manager\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"div\", 6);\n          i0.ɵɵtext(9, \"JWT \\u2022 RBAC \\u2022 Multi-tenant org\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵtemplate(10, AppComponent_div_10_Template, 14, 3, \"div\", 7)(11, AppComponent_ng_template_11_Template, 2, 0, \"ng-template\", null, 8, i0.ɵɵtemplateRefExtractor);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(13, \"main\", 9);\n          i0.ɵɵelement(14, \"router-outlet\");\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          const _r2 = i0.ɵɵreference(12);\n          i0.ɵɵadvance(10);\n          i0.ɵɵproperty(\"ngIf\", ctx.user())(\"ngIfElse\", _r2);\n        }\n      },\n      dependencies: [RouterOutlet, NgIf],\n      styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["computed","inject","Router","RouterOutlet","NgIf","AuthService","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","AppComponent_div_10_Template_button_click_12_listener","ɵɵrestoreView","_r4","ctx_r3","ɵɵnextContext","ɵɵresetView","logout","ɵɵadvance","ɵɵtextInterpolate","ctx_r0","user","email","role","orgId","AppComponent","constructor","auth","router","getUser","loggedIn","isLoggedIn","navigateByUrl","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","AppComponent_Template","rf","ctx","ɵɵtemplate","AppComponent_div_10_Template","AppComponent_ng_template_11_Template","ɵɵtemplateRefExtractor","ɵɵelement","ɵɵproperty","_r2","styles"],"sources":["E:\\Practice\\secure-task-manager\\apps\\dashboard\\src\\app\\app.component.ts","E:\\Practice\\secure-task-manager\\apps\\dashboard\\src\\app\\app.component.html"],"sourcesContent":["import { Component, computed, inject } from '@angular/core';\nimport { Router, RouterOutlet } from '@angular/router';\nimport { NgIf } from '@angular/common';\nimport { AuthService } from './auth/auth.service';\n\n@Component({\n  selector: 'stm-root',\n  standalone: true,\n  imports: [RouterOutlet, NgIf],\n  templateUrl: './app.component.html',\n  styleUrl: './app.component.css',\n})\nexport class AppComponent {\n  private auth = inject(AuthService);\n  private router = inject(Router);\n\n  user = computed(() => this.auth.getUser());\n  loggedIn = computed(() => this.auth.isLoggedIn());\n\n  logout() {\n    this.auth.logout();\n    this.router.navigateByUrl('/login');\n  }\n}\n","<header class=\"topbar\">\n    <div class=\"container topbar__inner\">\n      <div class=\"brand\">\n        <div class=\"brand__logo\">STM</div>\n        <div class=\"brand__text\">\n          <div class=\"brand__title\">Secure Task Manager</div>\n          <div class=\"brand__subtitle muted\">JWT • RBAC • Multi-tenant org</div>\n        </div>\n      </div>\n  \n      <div class=\"topbar__right\" *ngIf=\"user(); else loggedOut\">\n        <div class=\"userpill\">\n          <div class=\"userpill__main\">\n            <div class=\"userpill__email\">{{ user()!.email }}</div>\n            <div class=\"userpill__meta muted\">\n              <span class=\"badge\">{{ user()!.role }}</span>\n              <span>•</span>\n              <span>{{ user()!.orgId }}</span>\n            </div>\n          </div>\n  \n          <button class=\"btn btn-secondary\" (click)=\"logout()\">Logout</button>\n        </div>\n      </div>\n  \n      <ng-template #loggedOut>\n        <a class=\"btn btn-secondary\" routerLink=\"/login\">Login</a>\n      </ng-template>\n    </div>\n  </header>\n  \n  <main class=\"container main\">\n    <router-outlet></router-outlet>\n  </main>\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}