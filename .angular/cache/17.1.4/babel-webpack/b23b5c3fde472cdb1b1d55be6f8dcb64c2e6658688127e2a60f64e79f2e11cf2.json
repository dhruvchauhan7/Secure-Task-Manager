{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormBuilder, ReactiveFormsModule, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { AuthService } from './auth.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"./auth.service\";\nimport * as i3 from \"@angular/router\";\nexport class LoginComponent {\n  constructor(fb, auth, router) {\n    this.fb = fb;\n    this.auth = auth;\n    this.router = router;\n    this.loading = false;\n    this.error = null;\n    this.form = this.fb.group({\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', [Validators.required, Validators.minLength(6)]]\n    });\n  }\n  submit() {\n    if (this.form.invalid || this.loading) return;\n    this.loading = true;\n    this.error = null;\n    const {\n      email,\n      password\n    } = this.form.value;\n    this.auth.login(email, password).subscribe({\n      next: () => {\n        this.loading = false;\n        // later we can navigate to /tasks\n        this.router.navigateByUrl('/');\n      },\n      error: err => {\n        this.loading = false;\n        this.error = err?.error?.message ?? 'Login failed';\n      }\n    });\n  }\n  static {\n    this.ɵfac = function LoginComponent_Factory(t) {\n      return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: LoginComponent,\n      selectors: [[\"stm-login\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 1,\n      vars: 0,\n      template: function LoginComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelement(0, \"router-outlet\");\n        }\n      },\n      dependencies: [CommonModule, ReactiveFormsModule],\n      encapsulation: 2\n    });\n  }\n}","map":{"version":3,"names":["CommonModule","FormBuilder","ReactiveFormsModule","Validators","Router","AuthService","LoginComponent","constructor","fb","auth","router","loading","error","form","group","email","required","password","minLength","submit","invalid","value","login","subscribe","next","navigateByUrl","err","message","i0","ɵɵdirectiveInject","i1","i2","i3","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","template","LoginComponent_Template","rf","ctx","ɵɵelement","encapsulation"],"sources":["E:\\Practice\\secure-task-manager\\apps\\dashboard\\src\\app\\auth\\login.component.ts","E:\\Practice\\secure-task-manager\\apps\\dashboard\\src\\app\\auth\\login.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormBuilder, ReactiveFormsModule, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService } from './auth.service';\r\n\r\n@Component({\r\n  selector: 'stm-login',\r\n  standalone: true,\r\n  imports: [CommonModule, ReactiveFormsModule],\r\n  templateUrl: './login.component.html',\r\n})\r\nexport class LoginComponent {\r\n  loading = false;\r\n  error: string | null = null;\r\n\r\n  form = this.fb.group({\r\n    email: ['', [Validators.required, Validators.email]],\r\n    password: ['', [Validators.required, Validators.minLength(6)]],\r\n  });\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private auth: AuthService,\r\n    private router: Router,\r\n  ) {}\r\n\r\n  submit() {\r\n    if (this.form.invalid || this.loading) return;\r\n\r\n    this.loading = true;\r\n    this.error = null;\r\n\r\n    const { email, password } = this.form.value;\r\n\r\n    this.auth.login(email!, password!).subscribe({\r\n      next: () => {\r\n        this.loading = false;\r\n        // later we can navigate to /tasks\r\n        this.router.navigateByUrl('/');\r\n      },\r\n      error: (err) => {\r\n        this.loading = false;\r\n        this.error = err?.error?.message ?? 'Login failed';\r\n      },\r\n    });\r\n  }\r\n}\r\n","<router-outlet></router-outlet>\r\n"],"mappings":"AACA,SAASA,YAAY,QAAQ,iBAAiB;AAC9C,SAASC,WAAW,EAAEC,mBAAmB,EAAEC,UAAU,QAAQ,gBAAgB;AAC7E,SAASC,MAAM,QAAQ,iBAAiB;AACxC,SAASC,WAAW,QAAQ,gBAAgB;;;;;AAQ5C,OAAM,MAAOC,cAAc;EASzBC,YACUC,EAAe,EACfC,IAAiB,EACjBC,MAAc;IAFd,KAAAF,EAAE,GAAFA,EAAE;IACF,KAAAC,IAAI,GAAJA,IAAI;IACJ,KAAAC,MAAM,GAANA,MAAM;IAXhB,KAAAC,OAAO,GAAG,KAAK;IACf,KAAAC,KAAK,GAAkB,IAAI;IAE3B,KAAAC,IAAI,GAAG,IAAI,CAACL,EAAE,CAACM,KAAK,CAAC;MACnBC,KAAK,EAAE,CAAC,EAAE,EAAE,CAACZ,UAAU,CAACa,QAAQ,EAAEb,UAAU,CAACY,KAAK,CAAC,CAAC;MACpDE,QAAQ,EAAE,CAAC,EAAE,EAAE,CAACd,UAAU,CAACa,QAAQ,EAAEb,UAAU,CAACe,SAAS,CAAC,CAAC,CAAC,CAAC;KAC9D,CAAC;EAMC;EAEHC,MAAMA,CAAA;IACJ,IAAI,IAAI,CAACN,IAAI,CAACO,OAAO,IAAI,IAAI,CAACT,OAAO,EAAE;IAEvC,IAAI,CAACA,OAAO,GAAG,IAAI;IACnB,IAAI,CAACC,KAAK,GAAG,IAAI;IAEjB,MAAM;MAAEG,KAAK;MAAEE;IAAQ,CAAE,GAAG,IAAI,CAACJ,IAAI,CAACQ,KAAK;IAE3C,IAAI,CAACZ,IAAI,CAACa,KAAK,CAACP,KAAM,EAAEE,QAAS,CAAC,CAACM,SAAS,CAAC;MAC3CC,IAAI,EAAEA,CAAA,KAAK;QACT,IAAI,CAACb,OAAO,GAAG,KAAK;QACpB;QACA,IAAI,CAACD,MAAM,CAACe,aAAa,CAAC,GAAG,CAAC;MAChC,CAAC;MACDb,KAAK,EAAGc,GAAG,IAAI;QACb,IAAI,CAACf,OAAO,GAAG,KAAK;QACpB,IAAI,CAACC,KAAK,GAAGc,GAAG,EAAEd,KAAK,EAAEe,OAAO,IAAI,cAAc;MACpD;KACD,CAAC;EACJ;;;uBAlCWrB,cAAc,EAAAsB,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAA7B,WAAA,GAAA2B,EAAA,CAAAC,iBAAA,CAAAE,EAAA,CAAA1B,WAAA,GAAAuB,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAA5B,MAAA;IAAA;EAAA;;;YAAdE,cAAc;MAAA2B,SAAA;MAAAC,UAAA;MAAAC,QAAA,GAAAP,EAAA,CAAAQ,mBAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,QAAA,WAAAC,wBAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCZ3Bb,EAAA,CAAAe,SAAA,oBAA+B;;;qBDSnB3C,YAAY,EAAEE,mBAAmB;MAAA0C,aAAA;IAAA;EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}