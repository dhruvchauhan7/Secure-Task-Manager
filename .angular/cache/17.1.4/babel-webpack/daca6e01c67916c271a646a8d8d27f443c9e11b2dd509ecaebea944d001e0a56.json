{"ast":null,"code":"import _asyncToGenerator from \"E:/Practice/secure-task-manager/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { inject } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { HttpClient } from '@angular/common/http';\nimport { AuthService } from '../auth/auth.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/forms\";\nfunction TasksComponent_option_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const s_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", s_r3);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(s_r3);\n  }\n}\nfunction TasksComponent_option_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const c_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", c_r4);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(c_r4);\n  }\n}\nfunction TasksComponent_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtext(1, \"Viewer role: read-only access\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class TasksComponent {\n  constructor() {\n    this.http = inject(HttpClient);\n    this.auth = inject(AuthService);\n    this.API = 'http://localhost:3000/api';\n    // Create form\n    this.title = '';\n    this.description = '';\n    this.status = 'OPEN';\n    this.category = 'Work';\n    this.creating = false;\n    // List\n    this.loading = false;\n    this.error = '';\n    this.tasks = [];\n    // Edit state\n    this.editingId = null;\n    this.editTitle = '';\n    this.editDescription = '';\n    this.editStatus = 'OPEN';\n    this.editCategory = 'Work';\n    this.saving = false;\n    this.deletingId = null;\n    this.statuses = ['OPEN', 'IN_PROGRESS', 'DONE'];\n    this.categories = ['Work', 'Personal', 'School', 'Other'];\n    this.filterStatus = 'ALL';\n    this.filterCategory = 'ALL';\n    this.sortKey = 'UPDATED_AT';\n    this.sortDir = 'DESC';\n  }\n  ngOnInit() {\n    this.refresh();\n  }\n  refresh() {\n    this.error = '';\n    this.loading = true;\n    this.http.get(`${this.API}/tasks`).subscribe({\n      next: res => {\n        // normalize category so UI doesn't break if missing\n        this.tasks = (res ?? []).map(t => ({\n          ...t,\n          category: t.category ?? null\n        }));\n        this.loading = false;\n      },\n      error: e => {\n        this.loading = false;\n        this.error = e?.status === 401 ? 'Unauthorized' : 'Failed to load tasks';\n      }\n    });\n  }\n  get visibleTasks() {\n    let list = [...this.tasks];\n    // filter by status\n    if (this.filterStatus !== 'ALL') {\n      list = list.filter(t => t.status === this.filterStatus);\n    }\n    // filter by category\n    if (this.filterCategory !== 'ALL') {\n      list = list.filter(t => (t.category ?? 'Uncategorized') === this.filterCategory);\n    }\n    // sort\n    list.sort((a, b) => {\n      const dir = this.sortDir === 'ASC' ? 1 : -1;\n      switch (this.sortKey) {\n        case 'TITLE':\n          return dir * (a.title ?? '').localeCompare(b.title ?? '');\n        case 'STATUS':\n          return dir * (a.status ?? '').localeCompare(b.status ?? '');\n        case 'CREATED_AT':\n          return dir * (new Date(a.createdAt).getTime() - new Date(b.createdAt).getTime());\n        case 'UPDATED_AT':\n        default:\n          return dir * (new Date(a.updatedAt).getTime() - new Date(b.updatedAt).getTime());\n      }\n    });\n    return list;\n  }\n  get filterCategoryOptions() {\n    const set = new Set();\n    for (const t of this.tasks) set.add(t.category ?? 'Uncategorized');\n    // include known categories too\n    for (const c of this.categories) set.add(c);\n    return Array.from(set).sort((a, b) => a.localeCompare(b));\n  }\n  create() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      if (!_this.auth.canWrite()) return;\n      _this.error = '';\n      _this.creating = true;\n      _this.http.post(`${_this.API}/tasks`, {\n        title: _this.title.trim(),\n        description: _this.description.trim() || undefined,\n        status: _this.status,\n        category: _this.category?.trim() || null\n      }).subscribe({\n        next: created => {\n          const normalized = {\n            ...created,\n            category: created.category ?? _this.category ?? null\n          };\n          _this.tasks = [normalized, ..._this.tasks];\n          _this.title = '';\n          _this.description = '';\n          _this.status = 'OPEN';\n          _this.category = 'Work';\n          _this.creating = false;\n        },\n        error: e => {\n          _this.creating = false;\n          _this.error = e?.status === 403 ? 'Forbidden (role does not allow creating tasks)' : 'Failed to create task';\n        }\n      });\n    })();\n  }\n  startEdit(t) {\n    if (!this.auth.canWrite()) return;\n    this.editingId = t.id;\n    this.editTitle = t.title;\n    this.editDescription = t.description ?? '';\n    this.editStatus = t.status;\n    this.editCategory = t.category ?? 'Work';\n    this.error = '';\n  }\n  cancelEdit() {\n    this.editingId = null;\n    this.editTitle = '';\n    this.editDescription = '';\n    this.editStatus = 'OPEN';\n    this.editCategory = 'Work';\n  }\n  saveEdit(t) {\n    if (!this.auth.canWrite()) return;\n    if (!this.editingId) return;\n    this.saving = true;\n    this.error = '';\n    this.http.patch(`${this.API}/tasks/${t.id}`, {\n      title: this.editTitle.trim(),\n      description: this.editDescription.trim() || null,\n      status: this.editStatus,\n      category: this.editCategory?.trim() || null\n    }).subscribe({\n      next: updated => {\n        const normalized = {\n          ...updated,\n          category: updated.category ?? this.editCategory ?? null\n        };\n        this.tasks = this.tasks.map(x => x.id === normalized.id ? normalized : x);\n        this.saving = false;\n        this.cancelEdit();\n      },\n      error: e => {\n        this.saving = false;\n        this.error = e?.status === 403 ? 'Forbidden (role does not allow editing tasks)' : 'Failed to save task';\n      }\n    });\n  }\n  deleteTask(t) {\n    if (!this.auth.canWrite()) return;\n    const ok = confirm(`Delete \"${t.title}\"? This cannot be undone.`);\n    if (!ok) return;\n    this.deletingId = t.id;\n    this.error = '';\n    this.http.delete(`${this.API}/tasks/${t.id}`).subscribe({\n      next: () => {\n        this.tasks = this.tasks.filter(x => x.id !== t.id);\n        if (this.editingId === t.id) this.cancelEdit();\n        this.deletingId = null;\n      },\n      error: e => {\n        this.deletingId = null;\n        this.error = e?.status === 403 ? 'Forbidden (role does not allow deleting tasks)' : 'Failed to delete task';\n      }\n    });\n  }\n  clearFilters() {\n    this.filterStatus = 'ALL';\n    this.filterCategory = 'ALL';\n    this.sortKey = 'UPDATED_AT';\n    this.sortDir = 'DESC';\n  }\n  trackById(_, t) {\n    return t.id;\n  }\n  static {\n    this.ɵfac = function TasksComponent_Factory(t) {\n      return new (t || TasksComponent)();\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: TasksComponent,\n      selectors: [[\"stm-tasks\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 27,\n      vars: 9,\n      consts: [[1, \"card\"], [1, \"card-title\"], [1, \"form\"], [1, \"row\", \"row-3\"], [\"type\", \"text\", \"placeholder\", \"e.g., Screening Interview\", 3, \"ngModel\", \"ngModelChange\"], [3, \"ngModel\", \"ngModelChange\"], [3, \"ngValue\", 4, \"ngFor\", \"ngForOf\"], [\"rows\", \"4\", \"placeholder\", \"Optional details\\u2026\", 3, \"ngModel\", \"ngModelChange\"], [1, \"form-actions\"], [1, \"btn\", \"btn-primary\", 3, \"disabled\", \"click\"], [\"class\", \"hint\", 4, \"ngIf\"], [3, \"ngValue\"], [1, \"hint\"]],\n      template: function TasksComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n          i0.ɵɵtext(2, \"Create Task\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"div\", 2)(4, \"div\", 3)(5, \"label\")(6, \"span\");\n          i0.ɵɵtext(7, \"Title\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"input\", 4);\n          i0.ɵɵlistener(\"ngModelChange\", function TasksComponent_Template_input_ngModelChange_8_listener($event) {\n            return ctx.title = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(9, \"label\")(10, \"span\");\n          i0.ɵɵtext(11, \"Status\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"select\", 5);\n          i0.ɵɵlistener(\"ngModelChange\", function TasksComponent_Template_select_ngModelChange_12_listener($event) {\n            return ctx.status = $event;\n          });\n          i0.ɵɵtemplate(13, TasksComponent_option_13_Template, 2, 2, \"option\", 6);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(14, \"label\")(15, \"span\");\n          i0.ɵɵtext(16, \"Category\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"select\", 5);\n          i0.ɵɵlistener(\"ngModelChange\", function TasksComponent_Template_select_ngModelChange_17_listener($event) {\n            return ctx.category = $event;\n          });\n          i0.ɵɵtemplate(18, TasksComponent_option_18_Template, 2, 2, \"option\", 6);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(19, \"label\")(20, \"span\");\n          i0.ɵɵtext(21, \"Description\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(22, \"textarea\", 7);\n          i0.ɵɵlistener(\"ngModelChange\", function TasksComponent_Template_textarea_ngModelChange_22_listener($event) {\n            return ctx.description = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(23, \"div\", 8)(24, \"button\", 9);\n          i0.ɵɵlistener(\"click\", function TasksComponent_Template_button_click_24_listener() {\n            return ctx.create();\n          });\n          i0.ɵɵtext(25);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(26, TasksComponent_div_26_Template, 2, 0, \"div\", 10);\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(8);\n          i0.ɵɵproperty(\"ngModel\", ctx.title);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.status);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngForOf\", ctx.statuses);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.category);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngForOf\", ctx.categories);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.description);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"disabled\", !ctx.auth.canWrite() || ctx.creating || !ctx.title.trim());\n          i0.ɵɵadvance();\n          i0.ɵɵtextInterpolate1(\" \", ctx.creating ? \"Creating\\u2026\" : \"Create task\", \" \");\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.auth.canWrite());\n        }\n      },\n      dependencies: [CommonModule, i1.NgForOf, i1.NgIf, FormsModule, i2.NgSelectOption, i2.ɵNgSelectMultipleOption, i2.DefaultValueAccessor, i2.SelectControlValueAccessor, i2.NgControlStatus, i2.NgModel],\n      styles: [\".page[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 18px;\\n}\\n\\n.hero[_ngcontent-%COMP%] {\\n  border-radius: 18px;\\n  padding: 18px;\\n  background: radial-gradient(1200px 600px at 20% 0%, #111827 0%, #0b1220 45%, #070b13 100%);\\n  color: #fff;\\n  box-shadow: 0 18px 50px rgba(2, 6, 23, 0.25);\\n}\\n\\n.hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {\\n  margin: 0;\\n  font-size: 44px;\\n  letter-spacing: -0.02em;\\n}\\n\\n.hero[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  margin: 6px 0 0;\\n  color: rgba(255, 255, 255, 0.75);\\n}\\n\\n.actions[_ngcontent-%COMP%] {\\n  margin-top: 12px;\\n  display: flex;\\n  justify-content: flex-end;\\n  gap: 10px;\\n  flex-wrap: wrap;\\n}\\n\\n\\n\\n.card[_ngcontent-%COMP%], .hero[_ngcontent-%COMP%], .task[_ngcontent-%COMP%] {\\n  max-width: 100%;\\n  overflow: hidden;\\n}\\n\\n.grid[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: 1fr 1.2fr;\\n  gap: 18px;\\n  align-items: start;\\n}\\n\\n.card[_ngcontent-%COMP%] {\\n  background: #fff;\\n  border: 1px solid #e5e7eb;\\n  border-radius: 18px;\\n  padding: 16px;\\n  box-shadow: 0 12px 30px rgba(2, 6, 23, 0.08);\\n}\\n\\n.card-title[_ngcontent-%COMP%] {\\n  font-size: 18px;\\n  font-weight: 800;\\n  color: #0f172a;\\n  margin-bottom: 12px;\\n}\\n\\n\\n\\n.form[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 12px;\\n}\\n\\n.form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .edit[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 6px;\\n}\\n\\n.form[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .edit[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n  font-size: 13px;\\n  font-weight: 700;\\n  color: #475569;\\n}\\n\\ninput[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%] {\\n  border: 1px solid #cbd5e1;\\n  border-radius: 12px;\\n  padding: 10px 12px;\\n  font-size: 16px;\\n  outline: none;\\n  width: 100%;\\n  box-sizing: border-box;\\n}\\n\\ntextarea[_ngcontent-%COMP%] {\\n  resize: vertical;\\n  min-height: 96px;\\n}\\n\\ninput[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus {\\n  border-color: #2563eb;\\n  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.18);\\n}\\n\\n.row[_ngcontent-%COMP%] {\\n  display: grid;\\n  gap: 12px;\\n}\\n\\n.row-3[_ngcontent-%COMP%] {\\n  grid-template-columns: 1.6fr 1fr 1fr;\\n}\\n\\n.form-actions[_ngcontent-%COMP%] {\\n  margin-top: 4px;\\n  display: flex;\\n  align-items: center;\\n  gap: 12px;\\n  flex-wrap: wrap;\\n}\\n\\n.hint[_ngcontent-%COMP%] {\\n  color: #64748b;\\n  font-size: 13px;\\n  font-weight: 600;\\n}\\n\\n\\n\\n.banner[_ngcontent-%COMP%] {\\n  border-radius: 12px;\\n  padding: 10px 12px;\\n  margin-bottom: 10px;\\n  font-weight: 650;\\n}\\n\\n.banner.error[_ngcontent-%COMP%] {\\n  background: #fef2f2;\\n  color: #991b1b;\\n  border: 1px solid #fecaca;\\n}\\n\\n.banner.muted[_ngcontent-%COMP%] {\\n  background: #f8fafc;\\n  color: #334155;\\n  border: 1px solid #e2e8f0;\\n}\\n\\n.empty[_ngcontent-%COMP%] {\\n  color: #64748b;\\n  padding: 8px 0;\\n}\\n\\n\\n\\n.task-list[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 12px;\\n}\\n\\n.task[_ngcontent-%COMP%] {\\n  border: 1px solid #e5e7eb;\\n  border-radius: 16px;\\n  padding: 14px;\\n  background: #fff;\\n}\\n\\n.task-top[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  gap: 10px;\\n  align-items: center;\\n  flex-wrap: wrap;\\n}\\n\\n.task-title[_ngcontent-%COMP%] {\\n  font-weight: 850;\\n  color: #0f172a;\\n  font-size: 16px;\\n}\\n\\n.task-status[_ngcontent-%COMP%] {\\n  font-size: 12px;\\n  font-weight: 800;\\n  padding: 4px 10px;\\n  border: 1px solid #e5e7eb;\\n  border-radius: 999px;\\n  background: #f8fafc;\\n  color: #0f172a;\\n}\\n\\n.task-desc[_ngcontent-%COMP%] {\\n  margin-top: 8px;\\n  color: #334155;\\n  white-space: pre-wrap;\\n  word-break: break-word;\\n}\\n\\n.task-meta[_ngcontent-%COMP%] {\\n  margin-top: 10px;\\n  display: flex;\\n  flex-wrap: wrap;\\n  gap: 8px;\\n  font-size: 12px;\\n  color: #64748b;\\n}\\n\\n.task-actions[_ngcontent-%COMP%], .edit-actions[_ngcontent-%COMP%] {\\n  margin-top: 12px;\\n  display: flex;\\n  gap: 10px;\\n  flex-wrap: wrap;\\n}\\n\\n\\n\\n.btn[_ngcontent-%COMP%] {\\n  border: 1px solid transparent;\\n  border-radius: 12px;\\n  padding: 10px 14px;\\n  font-weight: 800;\\n  cursor: pointer;\\n  -webkit-user-select: none;\\n          user-select: none;\\n}\\n\\n.btn[_ngcontent-%COMP%]:disabled {\\n  opacity: 0.55;\\n  cursor: not-allowed;\\n}\\n\\n.btn-primary[_ngcontent-%COMP%] {\\n  background: #2563eb;\\n  color: #fff;\\n}\\n.btn-primary[_ngcontent-%COMP%]:hover {\\n  background: #1d4ed8;\\n}\\n\\n.btn-secondary[_ngcontent-%COMP%] {\\n  background: #ffffff;\\n  border-color: #cbd5e1;\\n  color: #0f172a;\\n}\\n.btn-secondary[_ngcontent-%COMP%]:hover {\\n  background: #f8fafc;\\n}\\n\\n.btn-danger[_ngcontent-%COMP%] {\\n  background: #fff;\\n  border-color: #fecaca;\\n  color: #b91c1c;\\n}\\n.btn-danger[_ngcontent-%COMP%]:hover {\\n  background: #fef2f2;\\n}\\n\\n\\n\\n@media (max-width: 980px) {\\n  .grid[_ngcontent-%COMP%] {\\n    grid-template-columns: 1fr;\\n  }\\n  .row-3[_ngcontent-%COMP%] {\\n    grid-template-columns: 1fr;\\n  }\\n  .hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {\\n    font-size: 34px;\\n  }\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL2FwcHMvZGFzaGJvYXJkL3NyYy9hcHAvdGFza3MvdGFza3MuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsU0FBUztBQUNYOztBQUVBO0VBQ0UsbUJBQW1CO0VBQ25CLGFBQWE7RUFDYiwwRkFBMEY7RUFDMUYsV0FBVztFQUNYLDRDQUE0QztBQUM5Qzs7QUFFQTtFQUNFLFNBQVM7RUFDVCxlQUFlO0VBQ2YsdUJBQXVCO0FBQ3pCOztBQUVBO0VBQ0UsZUFBZTtFQUNmLGdDQUFnQztBQUNsQzs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixhQUFhO0VBQ2IseUJBQXlCO0VBQ3pCLFNBQVM7RUFDVCxlQUFlO0FBQ2pCOztBQUVBLHFEQUFxRDtBQUNyRDs7O0VBR0UsZUFBZTtFQUNmLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGFBQWE7RUFDYixnQ0FBZ0M7RUFDaEMsU0FBUztFQUNULGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQix5QkFBeUI7RUFDekIsbUJBQW1CO0VBQ25CLGFBQWE7RUFDYiw0Q0FBNEM7QUFDOUM7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsZ0JBQWdCO0VBQ2hCLGNBQWM7RUFDZCxtQkFBbUI7QUFDckI7O0FBRUEsU0FBUztBQUNUO0VBQ0UsYUFBYTtFQUNiLHNCQUFzQjtFQUN0QixTQUFTO0FBQ1g7O0FBRUE7O0VBRUUsYUFBYTtFQUNiLHNCQUFzQjtFQUN0QixRQUFRO0FBQ1Y7O0FBRUE7O0VBRUUsZUFBZTtFQUNmLGdCQUFnQjtFQUNoQixjQUFjO0FBQ2hCOztBQUVBOzs7RUFHRSx5QkFBeUI7RUFDekIsbUJBQW1CO0VBQ25CLGtCQUFrQjtFQUNsQixlQUFlO0VBQ2YsYUFBYTtFQUNiLFdBQVc7RUFDWCxzQkFBc0I7QUFDeEI7O0FBRUE7RUFDRSxnQkFBZ0I7RUFDaEIsZ0JBQWdCO0FBQ2xCOztBQUVBOzs7RUFHRSxxQkFBcUI7RUFDckIsNkNBQTZDO0FBQy9DOztBQUVBO0VBQ0UsYUFBYTtFQUNiLFNBQVM7QUFDWDs7QUFFQTtFQUNFLG9DQUFvQztBQUN0Qzs7QUFFQTtFQUNFLGVBQWU7RUFDZixhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLFNBQVM7RUFDVCxlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsY0FBYztFQUNkLGVBQWU7RUFDZixnQkFBZ0I7QUFDbEI7O0FBRUEsWUFBWTtBQUNaO0VBQ0UsbUJBQW1CO0VBQ25CLGtCQUFrQjtFQUNsQixtQkFBbUI7RUFDbkIsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsbUJBQW1CO0VBQ25CLGNBQWM7RUFDZCx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSxtQkFBbUI7RUFDbkIsY0FBYztFQUNkLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLGNBQWM7RUFDZCxjQUFjO0FBQ2hCOztBQUVBLGNBQWM7QUFDZDtFQUNFLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsU0FBUztBQUNYOztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLG1CQUFtQjtFQUNuQixhQUFhO0VBQ2IsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLDhCQUE4QjtFQUM5QixTQUFTO0VBQ1QsbUJBQW1CO0VBQ25CLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxnQkFBZ0I7RUFDaEIsY0FBYztFQUNkLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsZ0JBQWdCO0VBQ2hCLGlCQUFpQjtFQUNqQix5QkFBeUI7RUFDekIsb0JBQW9CO0VBQ3BCLG1CQUFtQjtFQUNuQixjQUFjO0FBQ2hCOztBQUVBO0VBQ0UsZUFBZTtFQUNmLGNBQWM7RUFDZCxxQkFBcUI7RUFDckIsc0JBQXNCO0FBQ3hCOztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLGFBQWE7RUFDYixlQUFlO0VBQ2YsUUFBUTtFQUNSLGVBQWU7RUFDZixjQUFjO0FBQ2hCOztBQUVBOztFQUVFLGdCQUFnQjtFQUNoQixhQUFhO0VBQ2IsU0FBUztFQUNULGVBQWU7QUFDakI7O0FBRUEsWUFBWTtBQUNaO0VBQ0UsNkJBQTZCO0VBQzdCLG1CQUFtQjtFQUNuQixrQkFBa0I7RUFDbEIsZ0JBQWdCO0VBQ2hCLGVBQWU7RUFDZix5QkFBaUI7VUFBakIsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsYUFBYTtFQUNiLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLG1CQUFtQjtFQUNuQixXQUFXO0FBQ2I7QUFDQTtFQUNFLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLG1CQUFtQjtFQUNuQixxQkFBcUI7RUFDckIsY0FBYztBQUNoQjtBQUNBO0VBQ0UsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLHFCQUFxQjtFQUNyQixjQUFjO0FBQ2hCO0FBQ0E7RUFDRSxtQkFBbUI7QUFDckI7O0FBRUEsZUFBZTtBQUNmO0VBQ0U7SUFDRSwwQkFBMEI7RUFDNUI7RUFDQTtJQUNFLDBCQUEwQjtFQUM1QjtFQUNBO0lBQ0UsZUFBZTtFQUNqQjtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLnBhZ2Uge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICBnYXA6IDE4cHg7XHJcbn1cclxuXHJcbi5oZXJvIHtcclxuICBib3JkZXItcmFkaXVzOiAxOHB4O1xyXG4gIHBhZGRpbmc6IDE4cHg7XHJcbiAgYmFja2dyb3VuZDogcmFkaWFsLWdyYWRpZW50KDEyMDBweCA2MDBweCBhdCAyMCUgMCUsICMxMTE4MjcgMCUsICMwYjEyMjAgNDUlLCAjMDcwYjEzIDEwMCUpO1xyXG4gIGNvbG9yOiAjZmZmO1xyXG4gIGJveC1zaGFkb3c6IDAgMThweCA1MHB4IHJnYmEoMiwgNiwgMjMsIDAuMjUpO1xyXG59XHJcblxyXG4uaGVybyBoMSB7XHJcbiAgbWFyZ2luOiAwO1xyXG4gIGZvbnQtc2l6ZTogNDRweDtcclxuICBsZXR0ZXItc3BhY2luZzogLTAuMDJlbTtcclxufVxyXG5cclxuLmhlcm8gcCB7XHJcbiAgbWFyZ2luOiA2cHggMCAwO1xyXG4gIGNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNzUpO1xyXG59XHJcblxyXG4uYWN0aW9ucyB7XHJcbiAgbWFyZ2luLXRvcDogMTJweDtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XHJcbiAgZ2FwOiAxMHB4O1xyXG4gIGZsZXgtd3JhcDogd3JhcDtcclxufVxyXG5cclxuLyogSU1QT1JUQU5UOiBwcmV2ZW50IMOiwoDCnGJyb2tlbiBvbiBzY3JvbGzDosKAwp0gLyBvdmVyZmxvdyAqL1xyXG4uY2FyZCxcclxuLmhlcm8sXHJcbi50YXNrIHtcclxuICBtYXgtd2lkdGg6IDEwMCU7XHJcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcclxufVxyXG5cclxuLmdyaWQge1xyXG4gIGRpc3BsYXk6IGdyaWQ7XHJcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMS4yZnI7XHJcbiAgZ2FwOiAxOHB4O1xyXG4gIGFsaWduLWl0ZW1zOiBzdGFydDtcclxufVxyXG5cclxuLmNhcmQge1xyXG4gIGJhY2tncm91bmQ6ICNmZmY7XHJcbiAgYm9yZGVyOiAxcHggc29saWQgI2U1ZTdlYjtcclxuICBib3JkZXItcmFkaXVzOiAxOHB4O1xyXG4gIHBhZGRpbmc6IDE2cHg7XHJcbiAgYm94LXNoYWRvdzogMCAxMnB4IDMwcHggcmdiYSgyLCA2LCAyMywgMC4wOCk7XHJcbn1cclxuXHJcbi5jYXJkLXRpdGxlIHtcclxuICBmb250LXNpemU6IDE4cHg7XHJcbiAgZm9udC13ZWlnaHQ6IDgwMDtcclxuICBjb2xvcjogIzBmMTcyYTtcclxuICBtYXJnaW4tYm90dG9tOiAxMnB4O1xyXG59XHJcblxyXG4vKiBGb3JtICovXHJcbi5mb3JtIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgZ2FwOiAxMnB4O1xyXG59XHJcblxyXG4uZm9ybSBsYWJlbCxcclxuLmVkaXQgbGFiZWwge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICBnYXA6IDZweDtcclxufVxyXG5cclxuLmZvcm0gc3BhbixcclxuLmVkaXQgc3BhbiB7XHJcbiAgZm9udC1zaXplOiAxM3B4O1xyXG4gIGZvbnQtd2VpZ2h0OiA3MDA7XHJcbiAgY29sb3I6ICM0NzU1Njk7XHJcbn1cclxuXHJcbmlucHV0LFxyXG5zZWxlY3QsXHJcbnRleHRhcmVhIHtcclxuICBib3JkZXI6IDFweCBzb2xpZCAjY2JkNWUxO1xyXG4gIGJvcmRlci1yYWRpdXM6IDEycHg7XHJcbiAgcGFkZGluZzogMTBweCAxMnB4O1xyXG4gIGZvbnQtc2l6ZTogMTZweDtcclxuICBvdXRsaW5lOiBub25lO1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbn1cclxuXHJcbnRleHRhcmVhIHtcclxuICByZXNpemU6IHZlcnRpY2FsO1xyXG4gIG1pbi1oZWlnaHQ6IDk2cHg7XHJcbn1cclxuXHJcbmlucHV0OmZvY3VzLFxyXG5zZWxlY3Q6Zm9jdXMsXHJcbnRleHRhcmVhOmZvY3VzIHtcclxuICBib3JkZXItY29sb3I6ICMyNTYzZWI7XHJcbiAgYm94LXNoYWRvdzogMCAwIDAgM3B4IHJnYmEoMzcsIDk5LCAyMzUsIDAuMTgpO1xyXG59XHJcblxyXG4ucm93IHtcclxuICBkaXNwbGF5OiBncmlkO1xyXG4gIGdhcDogMTJweDtcclxufVxyXG5cclxuLnJvdy0zIHtcclxuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDEuNmZyIDFmciAxZnI7XHJcbn1cclxuXHJcbi5mb3JtLWFjdGlvbnMge1xyXG4gIG1hcmdpbi10b3A6IDRweDtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgZ2FwOiAxMnB4O1xyXG4gIGZsZXgtd3JhcDogd3JhcDtcclxufVxyXG5cclxuLmhpbnQge1xyXG4gIGNvbG9yOiAjNjQ3NDhiO1xyXG4gIGZvbnQtc2l6ZTogMTNweDtcclxuICBmb250LXdlaWdodDogNjAwO1xyXG59XHJcblxyXG4vKiBiYW5uZXJzICovXHJcbi5iYW5uZXIge1xyXG4gIGJvcmRlci1yYWRpdXM6IDEycHg7XHJcbiAgcGFkZGluZzogMTBweCAxMnB4O1xyXG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcbiAgZm9udC13ZWlnaHQ6IDY1MDtcclxufVxyXG5cclxuLmJhbm5lci5lcnJvciB7XHJcbiAgYmFja2dyb3VuZDogI2ZlZjJmMjtcclxuICBjb2xvcjogIzk5MWIxYjtcclxuICBib3JkZXI6IDFweCBzb2xpZCAjZmVjYWNhO1xyXG59XHJcblxyXG4uYmFubmVyLm11dGVkIHtcclxuICBiYWNrZ3JvdW5kOiAjZjhmYWZjO1xyXG4gIGNvbG9yOiAjMzM0MTU1O1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkICNlMmU4ZjA7XHJcbn1cclxuXHJcbi5lbXB0eSB7XHJcbiAgY29sb3I6ICM2NDc0OGI7XHJcbiAgcGFkZGluZzogOHB4IDA7XHJcbn1cclxuXHJcbi8qIFRhc2sgbGlzdCAqL1xyXG4udGFzay1saXN0IHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgZ2FwOiAxMnB4O1xyXG59XHJcblxyXG4udGFzayB7XHJcbiAgYm9yZGVyOiAxcHggc29saWQgI2U1ZTdlYjtcclxuICBib3JkZXItcmFkaXVzOiAxNnB4O1xyXG4gIHBhZGRpbmc6IDE0cHg7XHJcbiAgYmFja2dyb3VuZDogI2ZmZjtcclxufVxyXG5cclxuLnRhc2stdG9wIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICBnYXA6IDEwcHg7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBmbGV4LXdyYXA6IHdyYXA7XHJcbn1cclxuXHJcbi50YXNrLXRpdGxlIHtcclxuICBmb250LXdlaWdodDogODUwO1xyXG4gIGNvbG9yOiAjMGYxNzJhO1xyXG4gIGZvbnQtc2l6ZTogMTZweDtcclxufVxyXG5cclxuLnRhc2stc3RhdHVzIHtcclxuICBmb250LXNpemU6IDEycHg7XHJcbiAgZm9udC13ZWlnaHQ6IDgwMDtcclxuICBwYWRkaW5nOiA0cHggMTBweDtcclxuICBib3JkZXI6IDFweCBzb2xpZCAjZTVlN2ViO1xyXG4gIGJvcmRlci1yYWRpdXM6IDk5OXB4O1xyXG4gIGJhY2tncm91bmQ6ICNmOGZhZmM7XHJcbiAgY29sb3I6ICMwZjE3MmE7XHJcbn1cclxuXHJcbi50YXNrLWRlc2Mge1xyXG4gIG1hcmdpbi10b3A6IDhweDtcclxuICBjb2xvcjogIzMzNDE1NTtcclxuICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7XHJcbiAgd29yZC1icmVhazogYnJlYWstd29yZDtcclxufVxyXG5cclxuLnRhc2stbWV0YSB7XHJcbiAgbWFyZ2luLXRvcDogMTBweDtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtd3JhcDogd3JhcDtcclxuICBnYXA6IDhweDtcclxuICBmb250LXNpemU6IDEycHg7XHJcbiAgY29sb3I6ICM2NDc0OGI7XHJcbn1cclxuXHJcbi50YXNrLWFjdGlvbnMsXHJcbi5lZGl0LWFjdGlvbnMge1xyXG4gIG1hcmdpbi10b3A6IDEycHg7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBnYXA6IDEwcHg7XHJcbiAgZmxleC13cmFwOiB3cmFwO1xyXG59XHJcblxyXG4vKiBCdXR0b25zICovXHJcbi5idG4ge1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50O1xyXG4gIGJvcmRlci1yYWRpdXM6IDEycHg7XHJcbiAgcGFkZGluZzogMTBweCAxNHB4O1xyXG4gIGZvbnQtd2VpZ2h0OiA4MDA7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIHVzZXItc2VsZWN0OiBub25lO1xyXG59XHJcblxyXG4uYnRuOmRpc2FibGVkIHtcclxuICBvcGFjaXR5OiAwLjU1O1xyXG4gIGN1cnNvcjogbm90LWFsbG93ZWQ7XHJcbn1cclxuXHJcbi5idG4tcHJpbWFyeSB7XHJcbiAgYmFja2dyb3VuZDogIzI1NjNlYjtcclxuICBjb2xvcjogI2ZmZjtcclxufVxyXG4uYnRuLXByaW1hcnk6aG92ZXIge1xyXG4gIGJhY2tncm91bmQ6ICMxZDRlZDg7XHJcbn1cclxuXHJcbi5idG4tc2Vjb25kYXJ5IHtcclxuICBiYWNrZ3JvdW5kOiAjZmZmZmZmO1xyXG4gIGJvcmRlci1jb2xvcjogI2NiZDVlMTtcclxuICBjb2xvcjogIzBmMTcyYTtcclxufVxyXG4uYnRuLXNlY29uZGFyeTpob3ZlciB7XHJcbiAgYmFja2dyb3VuZDogI2Y4ZmFmYztcclxufVxyXG5cclxuLmJ0bi1kYW5nZXIge1xyXG4gIGJhY2tncm91bmQ6ICNmZmY7XHJcbiAgYm9yZGVyLWNvbG9yOiAjZmVjYWNhO1xyXG4gIGNvbG9yOiAjYjkxYzFjO1xyXG59XHJcbi5idG4tZGFuZ2VyOmhvdmVyIHtcclxuICBiYWNrZ3JvdW5kOiAjZmVmMmYyO1xyXG59XHJcblxyXG4vKiBSZXNwb25zaXZlICovXHJcbkBtZWRpYSAobWF4LXdpZHRoOiA5ODBweCkge1xyXG4gIC5ncmlkIHtcclxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyO1xyXG4gIH1cclxuICAucm93LTMge1xyXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnI7XHJcbiAgfVxyXG4gIC5oZXJvIGgxIHtcclxuICAgIGZvbnQtc2l6ZTogMzRweDtcclxuICB9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["inject","CommonModule","FormsModule","HttpClient","AuthService","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","s_r3","ɵɵadvance","ɵɵtextInterpolate","c_r4","TasksComponent","constructor","http","auth","API","title","description","status","category","creating","loading","error","tasks","editingId","editTitle","editDescription","editStatus","editCategory","saving","deletingId","statuses","categories","filterStatus","filterCategory","sortKey","sortDir","ngOnInit","refresh","get","subscribe","next","res","map","t","e","visibleTasks","list","filter","sort","a","b","dir","localeCompare","Date","createdAt","getTime","updatedAt","filterCategoryOptions","set","Set","add","c","Array","from","create","_this","_asyncToGenerator","canWrite","post","trim","undefined","created","normalized","startEdit","id","cancelEdit","saveEdit","patch","updated","x","deleteTask","ok","confirm","delete","clearFilters","trackById","_","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","TasksComponent_Template","rf","ctx","ɵɵlistener","TasksComponent_Template_input_ngModelChange_8_listener","$event","TasksComponent_Template_select_ngModelChange_12_listener","ɵɵtemplate","TasksComponent_option_13_Template","TasksComponent_Template_select_ngModelChange_17_listener","TasksComponent_option_18_Template","TasksComponent_Template_textarea_ngModelChange_22_listener","TasksComponent_Template_button_click_24_listener","TasksComponent_div_26_Template","ɵɵtextInterpolate1","i1","NgForOf","NgIf","i2","NgSelectOption","ɵNgSelectMultipleOption","DefaultValueAccessor","SelectControlValueAccessor","NgControlStatus","NgModel","styles"],"sources":["E:\\Practice\\secure-task-manager\\apps\\dashboard\\src\\app\\tasks\\tasks.component.ts","E:\\Practice\\secure-task-manager\\apps\\dashboard\\src\\app\\tasks\\tasks.component.html"],"sourcesContent":["import { Component, inject } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { AuthService } from '../auth/auth.service';\r\n\r\ntype TaskStatus = 'OPEN' | 'IN_PROGRESS' | 'DONE';\r\n\r\ntype Task = {\r\n  id: string;\r\n  orgId: string;\r\n  title: string;\r\n  description: string | null;\r\n  status: TaskStatus;\r\n  category?: string | null;\r\n  createdByEmail: string;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n};\r\n\r\ntype SortKey = 'UPDATED_AT' | 'CREATED_AT' | 'TITLE' | 'STATUS';\r\ntype SortDir = 'ASC' | 'DESC';\r\n\r\n@Component({\r\n  selector: 'stm-tasks',\r\n  standalone: true,\r\n  imports: [CommonModule, FormsModule],\r\n  templateUrl: './tasks.component.html',\r\n  styleUrl: './tasks.component.css',\r\n})\r\nexport class TasksComponent {\r\n  private readonly http = inject(HttpClient);\r\n  readonly auth = inject(AuthService);\r\n\r\n  private readonly API = 'http://localhost:3000/api';\r\n\r\n  // Create form\r\n  title = '';\r\n  description = '';\r\n  status: TaskStatus = 'OPEN';\r\n  category = 'Work'; \r\n  creating = false;\r\n\r\n  // List\r\n  loading = false;\r\n  error = '';\r\n  tasks: Task[] = [];\r\n\r\n  // Edit state\r\n  editingId: string | null = null;\r\n  editTitle = '';\r\n  editDescription = '';\r\n  editStatus: TaskStatus = 'OPEN';\r\n  editCategory = 'Work';\r\n  saving = false;\r\n  deletingId: string | null = null;\r\n\r\n  statuses: TaskStatus[] = ['OPEN', 'IN_PROGRESS', 'DONE'];\r\n\r\n \r\n  categories: string[] = ['Work', 'Personal', 'School', 'Other'];\r\n\r\n  \r\n  filterStatus: 'ALL' | TaskStatus = 'ALL';\r\n  filterCategory: 'ALL' | string = 'ALL';\r\n  sortKey: SortKey = 'UPDATED_AT';\r\n  sortDir: SortDir = 'DESC';\r\n\r\n  ngOnInit() {\r\n    this.refresh();\r\n  }\r\n\r\n  refresh() {\r\n    this.error = '';\r\n    this.loading = true;\r\n\r\n    this.http.get<Task[]>(`${this.API}/tasks`).subscribe({\r\n      next: (res) => {\r\n        // normalize category so UI doesn't break if missing\r\n        this.tasks = (res ?? []).map((t) => ({\r\n          ...t,\r\n          category: t.category ?? null,\r\n        }));\r\n        this.loading = false;\r\n      },\r\n      error: (e) => {\r\n        this.loading = false;\r\n        this.error = e?.status === 401 ? 'Unauthorized' : 'Failed to load tasks';\r\n      },\r\n    });\r\n  }\r\n\r\n  \r\n  get visibleTasks(): Task[] {\r\n    let list = [...this.tasks];\r\n\r\n    // filter by status\r\n    if (this.filterStatus !== 'ALL') {\r\n      list = list.filter((t) => t.status === this.filterStatus);\r\n    }\r\n\r\n    // filter by category\r\n    if (this.filterCategory !== 'ALL') {\r\n      list = list.filter((t) => (t.category ?? 'Uncategorized') === this.filterCategory);\r\n    }\r\n\r\n    // sort\r\n    list.sort((a, b) => {\r\n      const dir = this.sortDir === 'ASC' ? 1 : -1;\r\n\r\n      switch (this.sortKey) {\r\n        case 'TITLE':\r\n          return dir * (a.title ?? '').localeCompare(b.title ?? '');\r\n        case 'STATUS':\r\n          return dir * (a.status ?? '').localeCompare(b.status ?? '');\r\n        case 'CREATED_AT':\r\n          return dir * (new Date(a.createdAt).getTime() - new Date(b.createdAt).getTime());\r\n        case 'UPDATED_AT':\r\n        default:\r\n          return dir * (new Date(a.updatedAt).getTime() - new Date(b.updatedAt).getTime());\r\n      }\r\n    });\r\n\r\n    return list;\r\n  }\r\n\r\n  \r\n  get filterCategoryOptions(): string[] {\r\n    const set = new Set<string>();\r\n    for (const t of this.tasks) set.add((t.category ?? 'Uncategorized') as string);\r\n    // include known categories too\r\n    for (const c of this.categories) set.add(c);\r\n    return Array.from(set).sort((a, b) => a.localeCompare(b));\r\n  }\r\n\r\n  async create() {\r\n    if (!this.auth.canWrite()) return;\r\n    this.error = '';\r\n    this.creating = true;\r\n\r\n    this.http\r\n      .post<Task>(`${this.API}/tasks`, {\r\n        title: this.title.trim(),\r\n        description: this.description.trim() || undefined,\r\n        status: this.status,\r\n        category: this.category?.trim() || null, \r\n      })\r\n      .subscribe({\r\n        next: (created) => {\r\n          const normalized: Task = { ...created, category: created.category ?? this.category ?? null };\r\n          this.tasks = [normalized, ...this.tasks];\r\n\r\n          this.title = '';\r\n          this.description = '';\r\n          this.status = 'OPEN';\r\n          this.category = 'Work';\r\n          this.creating = false;\r\n        },\r\n        error: (e) => {\r\n          this.creating = false;\r\n          this.error =\r\n            e?.status === 403\r\n              ? 'Forbidden (role does not allow creating tasks)'\r\n              : 'Failed to create task';\r\n        },\r\n      });\r\n  }\r\n\r\n  startEdit(t: Task) {\r\n    if (!this.auth.canWrite()) return;\r\n    this.editingId = t.id;\r\n    this.editTitle = t.title;\r\n    this.editDescription = t.description ?? '';\r\n    this.editStatus = t.status;\r\n    this.editCategory = (t.category ?? 'Work') as string;\r\n    this.error = '';\r\n  }\r\n\r\n  cancelEdit() {\r\n    this.editingId = null;\r\n    this.editTitle = '';\r\n    this.editDescription = '';\r\n    this.editStatus = 'OPEN';\r\n    this.editCategory = 'Work';\r\n  }\r\n\r\n  saveEdit(t: Task) {\r\n    if (!this.auth.canWrite()) return;\r\n    if (!this.editingId) return;\r\n\r\n    this.saving = true;\r\n    this.error = '';\r\n\r\n    this.http\r\n      .patch<Task>(`${this.API}/tasks/${t.id}`, {\r\n        title: this.editTitle.trim(),\r\n        description: this.editDescription.trim() || null,\r\n        status: this.editStatus,\r\n        category: this.editCategory?.trim() || null, \r\n      })\r\n      .subscribe({\r\n        next: (updated) => {\r\n          const normalized: Task = { ...updated, category: updated.category ?? this.editCategory ?? null };\r\n          this.tasks = this.tasks.map((x) => (x.id === normalized.id ? normalized : x));\r\n          this.saving = false;\r\n          this.cancelEdit();\r\n        },\r\n        error: (e) => {\r\n          this.saving = false;\r\n          this.error =\r\n            e?.status === 403\r\n              ? 'Forbidden (role does not allow editing tasks)'\r\n              : 'Failed to save task';\r\n        },\r\n      });\r\n  }\r\n\r\n  deleteTask(t: Task) {\r\n    if (!this.auth.canWrite()) return;\r\n\r\n    const ok = confirm(`Delete \"${t.title}\"? This cannot be undone.`);\r\n    if (!ok) return;\r\n\r\n    this.deletingId = t.id;\r\n    this.error = '';\r\n\r\n    this.http.delete(`${this.API}/tasks/${t.id}`).subscribe({\r\n      next: () => {\r\n        this.tasks = this.tasks.filter((x) => x.id !== t.id);\r\n        if (this.editingId === t.id) this.cancelEdit();\r\n        this.deletingId = null;\r\n      },\r\n      error: (e) => {\r\n        this.deletingId = null;\r\n        this.error =\r\n          e?.status === 403\r\n            ? 'Forbidden (role does not allow deleting tasks)'\r\n            : 'Failed to delete task';\r\n      },\r\n    });\r\n  }\r\n\r\n  clearFilters() {\r\n    this.filterStatus = 'ALL';\r\n    this.filterCategory = 'ALL';\r\n    this.sortKey = 'UPDATED_AT';\r\n    this.sortDir = 'DESC';\r\n  }\r\n\r\n  trackById(_: number, t: Task) {\r\n    return t.id;\r\n  }\r\n}\r\n","<div class=\"card\">\r\n  <div class=\"card-title\">Create Task</div>\r\n\r\n  <div class=\"form\">\r\n    <div class=\"row row-3\">\r\n      <label>\r\n        <span>Title</span>\r\n        <input type=\"text\" [(ngModel)]=\"title\" placeholder=\"e.g., Screening Interview\" />\r\n      </label>\r\n\r\n      <label>\r\n        <span>Status</span>\r\n        <select [(ngModel)]=\"status\">\r\n          <option *ngFor=\"let s of statuses\" [ngValue]=\"s\">{{ s }}</option>\r\n        </select>\r\n      </label>\r\n\r\n      <label>\r\n        <span>Category</span>\r\n        <select [(ngModel)]=\"category\">\r\n          <option *ngFor=\"let c of categories\" [ngValue]=\"c\">{{ c }}</option>\r\n        </select>\r\n      </label>\r\n    </div>\r\n\r\n    <label>\r\n      <span>Description</span>\r\n      <textarea [(ngModel)]=\"description\" rows=\"4\" placeholder=\"Optional details…\"></textarea>\r\n    </label>\r\n\r\n    <div class=\"form-actions\">\r\n      <button\r\n        class=\"btn btn-primary\"\r\n        (click)=\"create()\"\r\n        [disabled]=\"!auth.canWrite() || creating || !title.trim()\"\r\n      >\r\n        {{ creating ? 'Creating…' : 'Create task' }}\r\n      </button>\r\n\r\n      <div class=\"hint\" *ngIf=\"!auth.canWrite()\">Viewer role: read-only access</div>\r\n    </div>\r\n  </div>\r\n</div>\r\n"],"mappings":";AAAA,SAAoBA,MAAM,QAAQ,eAAe;AACjD,SAASC,YAAY,QAAQ,iBAAiB;AAC9C,SAASC,WAAW,QAAQ,gBAAgB;AAC5C,SAASC,UAAU,QAAQ,sBAAsB;AACjD,SAASC,WAAW,QAAQ,sBAAsB;;;;;;ICSxCC,EAAA,CAAAC,cAAA,iBAAiD;IAAAD,EAAA,CAAAE,MAAA,GAAO;IAAAF,EAAA,CAAAG,YAAA,EAAS;;;;IAA9BH,EAAA,CAAAI,UAAA,YAAAC,IAAA,CAAa;IAACL,EAAA,CAAAM,SAAA,EAAO;IAAPN,EAAA,CAAAO,iBAAA,CAAAF,IAAA,CAAO;;;;;IAOxDL,EAAA,CAAAC,cAAA,iBAAmD;IAAAD,EAAA,CAAAE,MAAA,GAAO;IAAAF,EAAA,CAAAG,YAAA,EAAS;;;;IAA9BH,EAAA,CAAAI,UAAA,YAAAI,IAAA,CAAa;IAACR,EAAA,CAAAM,SAAA,EAAO;IAAPN,EAAA,CAAAO,iBAAA,CAAAC,IAAA,CAAO;;;;;IAmB9DR,EAAA,CAAAC,cAAA,cAA2C;IAAAD,EAAA,CAAAE,MAAA,oCAA6B;IAAAF,EAAA,CAAAG,YAAA,EAAM;;;ADTpF,OAAM,MAAOM,cAAc;EAP3BC,YAAA;IAQmB,KAAAC,IAAI,GAAGhB,MAAM,CAACG,UAAU,CAAC;IACjC,KAAAc,IAAI,GAAGjB,MAAM,CAACI,WAAW,CAAC;IAElB,KAAAc,GAAG,GAAG,2BAA2B;IAElD;IACA,KAAAC,KAAK,GAAG,EAAE;IACV,KAAAC,WAAW,GAAG,EAAE;IAChB,KAAAC,MAAM,GAAe,MAAM;IAC3B,KAAAC,QAAQ,GAAG,MAAM;IACjB,KAAAC,QAAQ,GAAG,KAAK;IAEhB;IACA,KAAAC,OAAO,GAAG,KAAK;IACf,KAAAC,KAAK,GAAG,EAAE;IACV,KAAAC,KAAK,GAAW,EAAE;IAElB;IACA,KAAAC,SAAS,GAAkB,IAAI;IAC/B,KAAAC,SAAS,GAAG,EAAE;IACd,KAAAC,eAAe,GAAG,EAAE;IACpB,KAAAC,UAAU,GAAe,MAAM;IAC/B,KAAAC,YAAY,GAAG,MAAM;IACrB,KAAAC,MAAM,GAAG,KAAK;IACd,KAAAC,UAAU,GAAkB,IAAI;IAEhC,KAAAC,QAAQ,GAAiB,CAAC,MAAM,EAAE,aAAa,EAAE,MAAM,CAAC;IAGxD,KAAAC,UAAU,GAAa,CAAC,MAAM,EAAE,UAAU,EAAE,QAAQ,EAAE,OAAO,CAAC;IAG9D,KAAAC,YAAY,GAAuB,KAAK;IACxC,KAAAC,cAAc,GAAmB,KAAK;IACtC,KAAAC,OAAO,GAAY,YAAY;IAC/B,KAAAC,OAAO,GAAY,MAAM;;EAEzBC,QAAQA,CAAA;IACN,IAAI,CAACC,OAAO,EAAE;EAChB;EAEAA,OAAOA,CAAA;IACL,IAAI,CAAChB,KAAK,GAAG,EAAE;IACf,IAAI,CAACD,OAAO,GAAG,IAAI;IAEnB,IAAI,CAACR,IAAI,CAAC0B,GAAG,CAAS,GAAG,IAAI,CAACxB,GAAG,QAAQ,CAAC,CAACyB,SAAS,CAAC;MACnDC,IAAI,EAAGC,GAAG,IAAI;QACZ;QACA,IAAI,CAACnB,KAAK,GAAG,CAACmB,GAAG,IAAI,EAAE,EAAEC,GAAG,CAAEC,CAAC,KAAM;UACnC,GAAGA,CAAC;UACJzB,QAAQ,EAAEyB,CAAC,CAACzB,QAAQ,IAAI;SACzB,CAAC,CAAC;QACH,IAAI,CAACE,OAAO,GAAG,KAAK;MACtB,CAAC;MACDC,KAAK,EAAGuB,CAAC,IAAI;QACX,IAAI,CAACxB,OAAO,GAAG,KAAK;QACpB,IAAI,CAACC,KAAK,GAAGuB,CAAC,EAAE3B,MAAM,KAAK,GAAG,GAAG,cAAc,GAAG,sBAAsB;MAC1E;KACD,CAAC;EACJ;EAGA,IAAI4B,YAAYA,CAAA;IACd,IAAIC,IAAI,GAAG,CAAC,GAAG,IAAI,CAACxB,KAAK,CAAC;IAE1B;IACA,IAAI,IAAI,CAACU,YAAY,KAAK,KAAK,EAAE;MAC/Bc,IAAI,GAAGA,IAAI,CAACC,MAAM,CAAEJ,CAAC,IAAKA,CAAC,CAAC1B,MAAM,KAAK,IAAI,CAACe,YAAY,CAAC;IAC3D;IAEA;IACA,IAAI,IAAI,CAACC,cAAc,KAAK,KAAK,EAAE;MACjCa,IAAI,GAAGA,IAAI,CAACC,MAAM,CAAEJ,CAAC,IAAK,CAACA,CAAC,CAACzB,QAAQ,IAAI,eAAe,MAAM,IAAI,CAACe,cAAc,CAAC;IACpF;IAEA;IACAa,IAAI,CAACE,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAI;MACjB,MAAMC,GAAG,GAAG,IAAI,CAAChB,OAAO,KAAK,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC;MAE3C,QAAQ,IAAI,CAACD,OAAO;QAClB,KAAK,OAAO;UACV,OAAOiB,GAAG,GAAG,CAACF,CAAC,CAAClC,KAAK,IAAI,EAAE,EAAEqC,aAAa,CAACF,CAAC,CAACnC,KAAK,IAAI,EAAE,CAAC;QAC3D,KAAK,QAAQ;UACX,OAAOoC,GAAG,GAAG,CAACF,CAAC,CAAChC,MAAM,IAAI,EAAE,EAAEmC,aAAa,CAACF,CAAC,CAACjC,MAAM,IAAI,EAAE,CAAC;QAC7D,KAAK,YAAY;UACf,OAAOkC,GAAG,IAAI,IAAIE,IAAI,CAACJ,CAAC,CAACK,SAAS,CAAC,CAACC,OAAO,EAAE,GAAG,IAAIF,IAAI,CAACH,CAAC,CAACI,SAAS,CAAC,CAACC,OAAO,EAAE,CAAC;QAClF,KAAK,YAAY;QACjB;UACE,OAAOJ,GAAG,IAAI,IAAIE,IAAI,CAACJ,CAAC,CAACO,SAAS,CAAC,CAACD,OAAO,EAAE,GAAG,IAAIF,IAAI,CAACH,CAAC,CAACM,SAAS,CAAC,CAACD,OAAO,EAAE,CAAC;MACpF;IACF,CAAC,CAAC;IAEF,OAAOT,IAAI;EACb;EAGA,IAAIW,qBAAqBA,CAAA;IACvB,MAAMC,GAAG,GAAG,IAAIC,GAAG,EAAU;IAC7B,KAAK,MAAMhB,CAAC,IAAI,IAAI,CAACrB,KAAK,EAAEoC,GAAG,CAACE,GAAG,CAAEjB,CAAC,CAACzB,QAAQ,IAAI,eAA0B,CAAC;IAC9E;IACA,KAAK,MAAM2C,CAAC,IAAI,IAAI,CAAC9B,UAAU,EAAE2B,GAAG,CAACE,GAAG,CAACC,CAAC,CAAC;IAC3C,OAAOC,KAAK,CAACC,IAAI,CAACL,GAAG,CAAC,CAACV,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACG,aAAa,CAACF,CAAC,CAAC,CAAC;EAC3D;EAEMc,MAAMA,CAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA;MACV,IAAI,CAACD,KAAI,CAACpD,IAAI,CAACsD,QAAQ,EAAE,EAAE;MAC3BF,KAAI,CAAC5C,KAAK,GAAG,EAAE;MACf4C,KAAI,CAAC9C,QAAQ,GAAG,IAAI;MAEpB8C,KAAI,CAACrD,IAAI,CACNwD,IAAI,CAAO,GAAGH,KAAI,CAACnD,GAAG,QAAQ,EAAE;QAC/BC,KAAK,EAAEkD,KAAI,CAAClD,KAAK,CAACsD,IAAI,EAAE;QACxBrD,WAAW,EAAEiD,KAAI,CAACjD,WAAW,CAACqD,IAAI,EAAE,IAAIC,SAAS;QACjDrD,MAAM,EAAEgD,KAAI,CAAChD,MAAM;QACnBC,QAAQ,EAAE+C,KAAI,CAAC/C,QAAQ,EAAEmD,IAAI,EAAE,IAAI;OACpC,CAAC,CACD9B,SAAS,CAAC;QACTC,IAAI,EAAG+B,OAAO,IAAI;UAChB,MAAMC,UAAU,GAAS;YAAE,GAAGD,OAAO;YAAErD,QAAQ,EAAEqD,OAAO,CAACrD,QAAQ,IAAI+C,KAAI,CAAC/C,QAAQ,IAAI;UAAI,CAAE;UAC5F+C,KAAI,CAAC3C,KAAK,GAAG,CAACkD,UAAU,EAAE,GAAGP,KAAI,CAAC3C,KAAK,CAAC;UAExC2C,KAAI,CAAClD,KAAK,GAAG,EAAE;UACfkD,KAAI,CAACjD,WAAW,GAAG,EAAE;UACrBiD,KAAI,CAAChD,MAAM,GAAG,MAAM;UACpBgD,KAAI,CAAC/C,QAAQ,GAAG,MAAM;UACtB+C,KAAI,CAAC9C,QAAQ,GAAG,KAAK;QACvB,CAAC;QACDE,KAAK,EAAGuB,CAAC,IAAI;UACXqB,KAAI,CAAC9C,QAAQ,GAAG,KAAK;UACrB8C,KAAI,CAAC5C,KAAK,GACRuB,CAAC,EAAE3B,MAAM,KAAK,GAAG,GACb,gDAAgD,GAChD,uBAAuB;QAC/B;OACD,CAAC;IAAC;EACP;EAEAwD,SAASA,CAAC9B,CAAO;IACf,IAAI,CAAC,IAAI,CAAC9B,IAAI,CAACsD,QAAQ,EAAE,EAAE;IAC3B,IAAI,CAAC5C,SAAS,GAAGoB,CAAC,CAAC+B,EAAE;IACrB,IAAI,CAAClD,SAAS,GAAGmB,CAAC,CAAC5B,KAAK;IACxB,IAAI,CAACU,eAAe,GAAGkB,CAAC,CAAC3B,WAAW,IAAI,EAAE;IAC1C,IAAI,CAACU,UAAU,GAAGiB,CAAC,CAAC1B,MAAM;IAC1B,IAAI,CAACU,YAAY,GAAIgB,CAAC,CAACzB,QAAQ,IAAI,MAAiB;IACpD,IAAI,CAACG,KAAK,GAAG,EAAE;EACjB;EAEAsD,UAAUA,CAAA;IACR,IAAI,CAACpD,SAAS,GAAG,IAAI;IACrB,IAAI,CAACC,SAAS,GAAG,EAAE;IACnB,IAAI,CAACC,eAAe,GAAG,EAAE;IACzB,IAAI,CAACC,UAAU,GAAG,MAAM;IACxB,IAAI,CAACC,YAAY,GAAG,MAAM;EAC5B;EAEAiD,QAAQA,CAACjC,CAAO;IACd,IAAI,CAAC,IAAI,CAAC9B,IAAI,CAACsD,QAAQ,EAAE,EAAE;IAC3B,IAAI,CAAC,IAAI,CAAC5C,SAAS,EAAE;IAErB,IAAI,CAACK,MAAM,GAAG,IAAI;IAClB,IAAI,CAACP,KAAK,GAAG,EAAE;IAEf,IAAI,CAACT,IAAI,CACNiE,KAAK,CAAO,GAAG,IAAI,CAAC/D,GAAG,UAAU6B,CAAC,CAAC+B,EAAE,EAAE,EAAE;MACxC3D,KAAK,EAAE,IAAI,CAACS,SAAS,CAAC6C,IAAI,EAAE;MAC5BrD,WAAW,EAAE,IAAI,CAACS,eAAe,CAAC4C,IAAI,EAAE,IAAI,IAAI;MAChDpD,MAAM,EAAE,IAAI,CAACS,UAAU;MACvBR,QAAQ,EAAE,IAAI,CAACS,YAAY,EAAE0C,IAAI,EAAE,IAAI;KACxC,CAAC,CACD9B,SAAS,CAAC;MACTC,IAAI,EAAGsC,OAAO,IAAI;QAChB,MAAMN,UAAU,GAAS;UAAE,GAAGM,OAAO;UAAE5D,QAAQ,EAAE4D,OAAO,CAAC5D,QAAQ,IAAI,IAAI,CAACS,YAAY,IAAI;QAAI,CAAE;QAChG,IAAI,CAACL,KAAK,GAAG,IAAI,CAACA,KAAK,CAACoB,GAAG,CAAEqC,CAAC,IAAMA,CAAC,CAACL,EAAE,KAAKF,UAAU,CAACE,EAAE,GAAGF,UAAU,GAAGO,CAAE,CAAC;QAC7E,IAAI,CAACnD,MAAM,GAAG,KAAK;QACnB,IAAI,CAAC+C,UAAU,EAAE;MACnB,CAAC;MACDtD,KAAK,EAAGuB,CAAC,IAAI;QACX,IAAI,CAAChB,MAAM,GAAG,KAAK;QACnB,IAAI,CAACP,KAAK,GACRuB,CAAC,EAAE3B,MAAM,KAAK,GAAG,GACb,+CAA+C,GAC/C,qBAAqB;MAC7B;KACD,CAAC;EACN;EAEA+D,UAAUA,CAACrC,CAAO;IAChB,IAAI,CAAC,IAAI,CAAC9B,IAAI,CAACsD,QAAQ,EAAE,EAAE;IAE3B,MAAMc,EAAE,GAAGC,OAAO,CAAC,WAAWvC,CAAC,CAAC5B,KAAK,2BAA2B,CAAC;IACjE,IAAI,CAACkE,EAAE,EAAE;IAET,IAAI,CAACpD,UAAU,GAAGc,CAAC,CAAC+B,EAAE;IACtB,IAAI,CAACrD,KAAK,GAAG,EAAE;IAEf,IAAI,CAACT,IAAI,CAACuE,MAAM,CAAC,GAAG,IAAI,CAACrE,GAAG,UAAU6B,CAAC,CAAC+B,EAAE,EAAE,CAAC,CAACnC,SAAS,CAAC;MACtDC,IAAI,EAAEA,CAAA,KAAK;QACT,IAAI,CAAClB,KAAK,GAAG,IAAI,CAACA,KAAK,CAACyB,MAAM,CAAEgC,CAAC,IAAKA,CAAC,CAACL,EAAE,KAAK/B,CAAC,CAAC+B,EAAE,CAAC;QACpD,IAAI,IAAI,CAACnD,SAAS,KAAKoB,CAAC,CAAC+B,EAAE,EAAE,IAAI,CAACC,UAAU,EAAE;QAC9C,IAAI,CAAC9C,UAAU,GAAG,IAAI;MACxB,CAAC;MACDR,KAAK,EAAGuB,CAAC,IAAI;QACX,IAAI,CAACf,UAAU,GAAG,IAAI;QACtB,IAAI,CAACR,KAAK,GACRuB,CAAC,EAAE3B,MAAM,KAAK,GAAG,GACb,gDAAgD,GAChD,uBAAuB;MAC/B;KACD,CAAC;EACJ;EAEAmE,YAAYA,CAAA;IACV,IAAI,CAACpD,YAAY,GAAG,KAAK;IACzB,IAAI,CAACC,cAAc,GAAG,KAAK;IAC3B,IAAI,CAACC,OAAO,GAAG,YAAY;IAC3B,IAAI,CAACC,OAAO,GAAG,MAAM;EACvB;EAEAkD,SAASA,CAACC,CAAS,EAAE3C,CAAO;IAC1B,OAAOA,CAAC,CAAC+B,EAAE;EACb;;;uBA7NWhE,cAAc;IAAA;EAAA;;;YAAdA,cAAc;MAAA6E,SAAA;MAAAC,UAAA;MAAAC,QAAA,GAAAxF,EAAA,CAAAyF,mBAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAC,wBAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UC9B3B/F,EAAA,CAAAC,cAAA,aAAkB;UACQD,EAAA,CAAAE,MAAA,kBAAW;UAAAF,EAAA,CAAAG,YAAA,EAAM;UAEzCH,EAAA,CAAAC,cAAA,aAAkB;UAGND,EAAA,CAAAE,MAAA,YAAK;UAAAF,EAAA,CAAAG,YAAA,EAAO;UAClBH,EAAA,CAAAC,cAAA,eAAiF;UAA9DD,EAAA,CAAAiG,UAAA,2BAAAC,uDAAAC,MAAA;YAAA,OAAAH,GAAA,CAAAlF,KAAA,GAAAqF,MAAA;UAAA,EAAmB;UAAtCnG,EAAA,CAAAG,YAAA,EAAiF;UAGnFH,EAAA,CAAAC,cAAA,YAAO;UACCD,EAAA,CAAAE,MAAA,cAAM;UAAAF,EAAA,CAAAG,YAAA,EAAO;UACnBH,EAAA,CAAAC,cAAA,iBAA6B;UAArBD,EAAA,CAAAiG,UAAA,2BAAAG,yDAAAD,MAAA;YAAA,OAAAH,GAAA,CAAAhF,MAAA,GAAAmF,MAAA;UAAA,EAAoB;UAC1BnG,EAAA,CAAAqG,UAAA,KAAAC,iCAAA,oBAAiE;UACnEtG,EAAA,CAAAG,YAAA,EAAS;UAGXH,EAAA,CAAAC,cAAA,aAAO;UACCD,EAAA,CAAAE,MAAA,gBAAQ;UAAAF,EAAA,CAAAG,YAAA,EAAO;UACrBH,EAAA,CAAAC,cAAA,iBAA+B;UAAvBD,EAAA,CAAAiG,UAAA,2BAAAM,yDAAAJ,MAAA;YAAA,OAAAH,GAAA,CAAA/E,QAAA,GAAAkF,MAAA;UAAA,EAAsB;UAC5BnG,EAAA,CAAAqG,UAAA,KAAAG,iCAAA,oBAAmE;UACrExG,EAAA,CAAAG,YAAA,EAAS;UAIbH,EAAA,CAAAC,cAAA,aAAO;UACCD,EAAA,CAAAE,MAAA,mBAAW;UAAAF,EAAA,CAAAG,YAAA,EAAO;UACxBH,EAAA,CAAAC,cAAA,mBAA6E;UAAnED,EAAA,CAAAiG,UAAA,2BAAAQ,2DAAAN,MAAA;YAAA,OAAAH,GAAA,CAAAjF,WAAA,GAAAoF,MAAA;UAAA,EAAyB;UAA0CnG,EAAA,CAAAG,YAAA,EAAW;UAG1FH,EAAA,CAAAC,cAAA,cAA0B;UAGtBD,EAAA,CAAAiG,UAAA,mBAAAS,iDAAA;YAAA,OAASV,GAAA,CAAAjC,MAAA,EAAQ;UAAA,EAAC;UAGlB/D,EAAA,CAAAE,MAAA,IACF;UAAAF,EAAA,CAAAG,YAAA,EAAS;UAETH,EAAA,CAAAqG,UAAA,KAAAM,8BAAA,kBAA8E;UAChF3G,EAAA,CAAAG,YAAA,EAAM;;;UAjCiBH,EAAA,CAAAM,SAAA,GAAmB;UAAnBN,EAAA,CAAAI,UAAA,YAAA4F,GAAA,CAAAlF,KAAA,CAAmB;UAK9Bd,EAAA,CAAAM,SAAA,GAAoB;UAApBN,EAAA,CAAAI,UAAA,YAAA4F,GAAA,CAAAhF,MAAA,CAAoB;UACJhB,EAAA,CAAAM,SAAA,EAAW;UAAXN,EAAA,CAAAI,UAAA,YAAA4F,GAAA,CAAAnE,QAAA,CAAW;UAM3B7B,EAAA,CAAAM,SAAA,GAAsB;UAAtBN,EAAA,CAAAI,UAAA,YAAA4F,GAAA,CAAA/E,QAAA,CAAsB;UACNjB,EAAA,CAAAM,SAAA,EAAa;UAAbN,EAAA,CAAAI,UAAA,YAAA4F,GAAA,CAAAlE,UAAA,CAAa;UAO7B9B,EAAA,CAAAM,SAAA,GAAyB;UAAzBN,EAAA,CAAAI,UAAA,YAAA4F,GAAA,CAAAjF,WAAA,CAAyB;UAOjCf,EAAA,CAAAM,SAAA,GAA0D;UAA1DN,EAAA,CAAAI,UAAA,cAAA4F,GAAA,CAAApF,IAAA,CAAAsD,QAAA,MAAA8B,GAAA,CAAA9E,QAAA,KAAA8E,GAAA,CAAAlF,KAAA,CAAAsD,IAAA,GAA0D;UAE1DpE,EAAA,CAAAM,SAAA,EACF;UADEN,EAAA,CAAA4G,kBAAA,MAAAZ,GAAA,CAAA9E,QAAA,yCACF;UAEmBlB,EAAA,CAAAM,SAAA,EAAsB;UAAtBN,EAAA,CAAAI,UAAA,UAAA4F,GAAA,CAAApF,IAAA,CAAAsD,QAAA,GAAsB;;;qBDbnCtE,YAAY,EAAAiH,EAAA,CAAAC,OAAA,EAAAD,EAAA,CAAAE,IAAA,EAAElH,WAAW,EAAAmH,EAAA,CAAAC,cAAA,EAAAD,EAAA,CAAAE,uBAAA,EAAAF,EAAA,CAAAG,oBAAA,EAAAH,EAAA,CAAAI,0BAAA,EAAAJ,EAAA,CAAAK,eAAA,EAAAL,EAAA,CAAAM,OAAA;MAAAC,MAAA;IAAA;EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}