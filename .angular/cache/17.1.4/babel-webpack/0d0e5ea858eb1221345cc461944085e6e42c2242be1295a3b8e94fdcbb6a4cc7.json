{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormBuilder, ReactiveFormsModule, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { AuthService } from './auth.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"./auth.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nfunction LoginComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵtext(1, \" Enter a valid email. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵtext(1, \" Password is required (min 6 chars). \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.error, \" \");\n  }\n}\nexport class LoginComponent {\n  constructor(fb, auth, router) {\n    this.fb = fb;\n    this.auth = auth;\n    this.router = router;\n    this.loading = false;\n    this.error = null;\n    this.form = this.fb.group({\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', [Validators.required, Validators.minLength(6)]]\n    });\n  }\n  submit() {\n    if (this.form.invalid || this.loading) return;\n    this.loading = true;\n    this.error = null;\n    const {\n      email,\n      password\n    } = this.form.value;\n    this.auth.login(email, password).subscribe({\n      next: () => {\n        this.loading = false;\n        this.router.navigateByUrl('/tasks');\n      },\n      error: err => {\n        this.loading = false;\n        this.error = err?.error?.message ?? 'Login failed';\n      }\n    });\n  }\n  static {\n    this.ɵfac = function LoginComponent_Factory(t) {\n      return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: LoginComponent,\n      selectors: [[\"stm-login\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 27,\n      vars: 6,\n      consts: [[1, \"login-wrapper\"], [3, \"formGroup\", \"ngSubmit\"], [\"type\", \"email\", \"formControlName\", \"email\"], [\"class\", \"error\", 4, \"ngIf\"], [\"type\", \"password\", \"formControlName\", \"password\"], [\"type\", \"submit\", 3, \"disabled\"], [1, \"hint\"], [1, \"error\"]],\n      template: function LoginComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n          i0.ɵɵtext(2, \"Secure Task Manager\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"h2\");\n          i0.ɵɵtext(4, \"Sign in\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"form\", 1);\n          i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_5_listener() {\n            return ctx.submit();\n          });\n          i0.ɵɵelementStart(6, \"label\");\n          i0.ɵɵtext(7, \" Email \");\n          i0.ɵɵelement(8, \"input\", 2);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(9, LoginComponent_div_9_Template, 2, 0, \"div\", 3);\n          i0.ɵɵelementStart(10, \"label\");\n          i0.ɵɵtext(11, \" Password \");\n          i0.ɵɵelement(12, \"input\", 4);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(13, LoginComponent_div_13_Template, 2, 0, \"div\", 3);\n          i0.ɵɵelementStart(14, \"button\", 5);\n          i0.ɵɵtext(15);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(16, LoginComponent_div_16_Template, 2, 1, \"div\", 3);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"div\", 6)(18, \"p\")(19, \"strong\");\n          i0.ɵɵtext(20, \"Demo accounts:\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(21, \"p\");\n          i0.ɵɵtext(22, \"owner@demo.com / Owner123!\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(23, \"p\");\n          i0.ɵɵtext(24, \"admin@demo.com / Admin123!\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(25, \"p\");\n          i0.ɵɵtext(26, \"viewer@demo.com / Viewer123!\");\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          let tmp_1_0;\n          let tmp_2_0;\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"formGroup\", ctx.form);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngIf\", ((tmp_1_0 = ctx.form.get(\"email\")) == null ? null : tmp_1_0.invalid) && ((tmp_1_0 = ctx.form.get(\"email\")) == null ? null : tmp_1_0.touched));\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx.form.get(\"password\")) == null ? null : tmp_2_0.invalid) && ((tmp_2_0 = ctx.form.get(\"password\")) == null ? null : tmp_2_0.touched));\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"disabled\", ctx.form.invalid || ctx.loading);\n          i0.ɵɵadvance();\n          i0.ɵɵtextInterpolate1(\" \", ctx.loading ? \"Signing in...\" : \"Sign in\", \" \");\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.error);\n        }\n      },\n      dependencies: [CommonModule, i4.NgIf, ReactiveFormsModule, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n      encapsulation: 2\n    });\n  }\n}","map":{"version":3,"names":["CommonModule","FormBuilder","ReactiveFormsModule","Validators","Router","AuthService","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ctx_r2","error","LoginComponent","constructor","fb","auth","router","loading","form","group","email","required","password","minLength","submit","invalid","value","login","subscribe","next","navigateByUrl","err","message","ɵɵdirectiveInject","i1","i2","i3","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","LoginComponent_Template","rf","ctx","ɵɵlistener","LoginComponent_Template_form_ngSubmit_5_listener","ɵɵelement","ɵɵtemplate","LoginComponent_div_9_Template","LoginComponent_div_13_Template","LoginComponent_div_16_Template","ɵɵproperty","tmp_1_0","get","touched","tmp_2_0","i4","NgIf","ɵNgNoValidate","DefaultValueAccessor","NgControlStatus","NgControlStatusGroup","FormGroupDirective","FormControlName","encapsulation"],"sources":["E:\\Practice\\secure-task-manager\\apps\\dashboard\\src\\app\\auth\\login.component.ts","E:\\Practice\\secure-task-manager\\apps\\dashboard\\src\\app\\auth\\login.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormBuilder, ReactiveFormsModule, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService } from './auth.service';\r\n\r\n@Component({\r\n  selector: 'stm-login',\r\n  standalone: true,\r\n  imports: [CommonModule, ReactiveFormsModule],\r\n  templateUrl: './login.component.html',\r\n})\r\nexport class LoginComponent {\r\n  loading = false;\r\n  error: string | null = null;\r\n\r\n  form = this.fb.group({\r\n    email: ['', [Validators.required, Validators.email]],\r\n    password: ['', [Validators.required, Validators.minLength(6)]],\r\n  });\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private auth: AuthService,\r\n    private router: Router,\r\n  ) {}\r\n\r\n  submit() {\r\n    if (this.form.invalid || this.loading) return;\r\n\r\n    this.loading = true;\r\n    this.error = null;\r\n\r\n    const { email, password } = this.form.value;\r\n\r\n    this.auth.login(email!, password!).subscribe({\r\n        next: () => {\r\n            this.loading = false;\r\n            this.router.navigateByUrl('/tasks');\r\n          },\r\n          \r\n      error: (err) => {\r\n        this.loading = false;\r\n        this.error = err?.error?.message ?? 'Login failed';\r\n      },\r\n    });\r\n  }\r\n}\r\n","<div class=\"login-wrapper\">\r\n    <h1>Secure Task Manager</h1>\r\n    <h2>Sign in</h2>\r\n  \r\n    <form [formGroup]=\"form\" (ngSubmit)=\"submit()\">\r\n      <label>\r\n        Email\r\n        <input type=\"email\" formControlName=\"email\" />\r\n      </label>\r\n      <div class=\"error\" *ngIf=\"form.get('email')?.invalid && form.get('email')?.touched\">\r\n        Enter a valid email.\r\n      </div>\r\n  \r\n      <label>\r\n        Password\r\n        <input type=\"password\" formControlName=\"password\" />\r\n      </label>\r\n      <div class=\"error\" *ngIf=\"form.get('password')?.invalid && form.get('password')?.touched\">\r\n        Password is required (min 6 chars).\r\n      </div>\r\n  \r\n      <button type=\"submit\" [disabled]=\"form.invalid || loading\">\r\n        {{ loading ? 'Signing in...' : 'Sign in' }}\r\n      </button>\r\n  \r\n      <div class=\"error\" *ngIf=\"error\">\r\n        {{ error }}\r\n      </div>\r\n    </form>\r\n  \r\n    <div class=\"hint\">\r\n        <p><strong>Demo accounts:</strong></p>\r\n        <p>owner&#64;demo.com / Owner123!</p>\r\n        <p>admin&#64;demo.com / Admin123!</p>\r\n        <p>viewer&#64;demo.com / Viewer123!</p>\r\n      </div>\r\n    \r\n  </div>\r\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}